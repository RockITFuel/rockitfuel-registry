{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "super-form",
  "type": "registry:block",
  "title": "Super Form",
  "description": "Form components integrated with @modular-forms/solid - includes input, select, combobox, date picker, color picker, and more",
  "dependencies": [
    "@modular-forms/solid",
    "@ark-ui/solid",
    "@internationalized/date",
    "date-fns",
    "solid-motionone",
    "debounce"
  ],
  "files": [
    {
      "path": "components/super-form/super-input.tsx",
      "type": "registry:component",
      "content": "import { XIcon } from \"lucide-solid\";\nimport type { Component, ComponentProps, JSX } from \"solid-js\";\nimport { createEffect, createSignal, Show, splitProps } from \"solid-js\";\nimport { Motion, Presence } from \"solid-motionone\";\nimport { cn } from \"~/lib/utils\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\nconst SuperInput: Component<\n\tComponentProps<\"input\"> & {\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\twrapperClass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\tclearable?: boolean;\n\t\ticon?: JSX.Element;\n\t}\n> = (props) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"type\",\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"clearable\",\n\t\t\"icon\",\n\t]);\n\n\tconst [ref, setRef] = createSignal<HTMLInputElement>();\n\tconst [value, setValue] = createSignal(\"\");\n\n\tcreateEffect(() => {\n\t\tconst inputRef = ref();\n\t\tif (inputRef) {\n\t\t\tsetValue(inputRef?.value);\n\n\t\t\tconst handleInput = (e: Event) => {\n\t\t\t\tconst target = e.target as HTMLInputElement;\n\t\t\t\tsetValue(target?.value);\n\t\t\t};\n\n\t\t\tinputRef.addEventListener(\"input\", handleInput);\n\t\t\t// Return cleanup function\n\t\t\treturn () => {\n\t\t\t\tinputRef.removeEventListener(\"input\", handleInput);\n\t\t\t};\n\t\t}\n\t});\n\n\tconst dispatchInputEvent = () => {\n\t\t//https://github.com/fabian-hiller/modular-forms/issues/221#issuecomment-2212450429\n\t\tconst input = document.getElementById(\n\t\t\t`${others.name}-super-input`,\n\t\t) as HTMLInputElement;\n\t\tinput.dispatchEvent(new Event(\"input\", { bubbles: true, composed: true }));\n\t};\n\n\tconst inputId = () => `${others.name}-super-input`;\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={inputId()}\n\t\t\t\trequired={others.required}\n\t\t\t/>\n\t\t\t<div class=\"relative\">\n\t\t\t\t<Show when={local.icon}>\n\t\t\t\t\t<div class=\"absolute top-1/2 left-3 -translate-y-1/2 text-muted-foreground\">\n\t\t\t\t\t\t{local.icon}\n\t\t\t\t\t</div>\n\t\t\t\t</Show>\n\t\t\t\t<input\n\t\t\t\t\taria-errormessage={`${props.name}-error`}\n\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\"flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\t\t\tlocal.class,\n\t\t\t\t\t\tlocal.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\t\tlocal.icon && \"pl-9\",\n\t\t\t\t\t)}\n\t\t\t\t\tid={inputId()}\n\t\t\t\t\tref={setRef}\n\t\t\t\t\ttype={local.type ?? \"text\"}\n\t\t\t\t\t{...others}\n\t\t\t\t/>\n\t\t\t\t<Presence>\n\t\t\t\t\t<Show when={local.clearable && value()?.length > 0}>\n\t\t\t\t\t\t<Motion.button\n\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\n\t\t\t\t\t\t\tclass=\"-translate-y-1/2 absolute top-2 right-3 rounded-full p-1 hover:bg-accent hover:text-accent-foreground\"\n\t\t\t\t\t\t\texit={{ opacity: 0, scale: 0.6 }}\n\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (ref()) {\n\t\t\t\t\t\t\t\t\tref()!.value = \"\";\n\t\t\t\t\t\t\t\t\tsetValue(\"\");\n\t\t\t\t\t\t\t\t\tdispatchInputEvent();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonPointerDown={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\ttransition={{ duration: 0.3 }}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XIcon class=\"size-4\" />\n\t\t\t\t\t\t</Motion.button>\n\t\t\t\t\t</Show>\n\t\t\t\t</Presence>\n\t\t\t</div>\n\t\t\t<SuperError error={props.error} name={inputId()} />\n\t\t</div>\n\t);\n};\n\nexport default SuperInput;\n"
    },
    {
      "path": "components/super-form/super-text-area.tsx",
      "type": "registry:component",
      "content": "import type { Component, ComponentProps } from \"solid-js\";\nimport { splitProps } from \"solid-js\";\n\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport { SuperLabel } from \"./super-label\";\n\nconst SuperTextArea: Component<\n\tOmit<ComponentProps<\"textarea\">, \"value\" | \"error\"> & {\n\t\tvalue?: ComponentProps<\"textarea\">[\"value\"] | null;\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\twrapperClass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\tdisableResize?: boolean;\n\t}\n> = (props) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"disableResize\",\n\t]);\n\n\tconst textAreaId = () => `${others.name}-super-text-area`;\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={textAreaId()}\n\t\t\t\trequired={others.required}\n\t\t\t/>\n\t\t\t<textarea\n\t\t\t\taria-errormessage={`${textAreaId()}-error`}\n\t\t\t\taria-invalid={!!props?.error}\n\t\t\t\tclass={cn(\n\t\t\t\t\t\"flex min-h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\t\tlocal.class,\n\t\t\t\t\tlocal?.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\tlocal.disableResize && \"resize-none\",\n\t\t\t\t)}\n\t\t\t\tid={textAreaId()}\n\t\t\t\t{...others}\n\t\t\t\tvalue={props.value ?? \"\"}\n\t\t\t/>\n\t\t\t<Expandable expanded={!!props?.error}>\n\t\t\t\t<div class={cn(\"mt-1 text-red-500 text-sm\", local.errorClass)}>\n\t\t\t\t\t{props.error}\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\t\t</div>\n\t);\n};\n\nexport { SuperTextArea };\n"
    },
    {
      "path": "components/super-form/super-select.tsx",
      "type": "registry:component",
      "content": "import { createAsync } from \"@solidjs/router\";\nimport {\n\ttype ComponentProps,\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\ttype JSX,\n\ton,\n\tsplitProps,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"../ui/select\";\nimport { SuperLabel } from \"./super-label\";\n\ntype SuperSelectPropsBase<T> = Omit<ComponentProps<\"input\">, \"value\"> & {\n\tvalue?: ComponentProps<\"input\">[\"value\"] | null;\n\tlabel?: string;\n\tonValueChange?: (v: T | null) => void;\n\tautoSelectFirstOption?: boolean;\n\toptionValue?: string;\n\toptionTextValue?: string;\n\toptionDisabled?: string;\n\terror?: string;\n\tplaceholder?: string;\n\tname: string;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n};\n\ntype SuperSelectPropsWithOptions<T> = SuperSelectPropsBase<T> & {\n\toptions: any[];\n\tqueryFn?: never; // Ensure queryFn is not provided when options are provided\n};\n\ntype SuperSelectPropsWithQueryFn<T> = SuperSelectPropsBase<T> & {\n\tqueryFn: (params: { where?: any }) => Promise<any[]>;\n\tqueryFnParams?: { where?: any };\n\toptions?: never; // Ensure options is not provided when queryFn is provided\n};\n\ntype SuperSelectProps<T> =\n\t| SuperSelectPropsWithOptions<T>\n\t| SuperSelectPropsWithQueryFn<T>;\n\nconst SuperSelect = <T,>(props: SuperSelectProps<T>): JSX.Element => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"queryFn\",\n\t\t\"options\",\n\t\t\"optionValue\",\n\t\t\"optionTextValue\",\n\t\t\"optionDisabled\",\n\t\t\"autoSelectFirstOption\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t]);\n\n\tconst [value, setValue] = createSignal<any>();\n\tconst getValue = createMemo(() => {\n\t\tif (value() === undefined) return;\n\t\treturn value()![local.optionValue ?? \"value\"];\n\t});\n\tconst [initialValue, setInitialValue] = createSignal<string | undefined>(\n\t\t(props.value as string) ?? undefined,\n\t);\n\n\tconst cacheOptions = createAsync(\n\t\tlocal.queryFn !== undefined ? () => local.queryFn!({}) : async () => [],\n\t\t{\n\t\t\tinitialValue: [],\n\t\t\tdeferStream: false,\n\t\t},\n\t);\n\n\tconst [options, SetOptions] = createSignal<any[]>(\n\t\tlocal.queryFn ? cacheOptions() : (local.options ?? []),\n\t);\n\n\tcreateEffect(() => {\n\t\tsetInitialValue((props.value as string) ?? undefined);\n\t});\n\n\tcreateEffect(\n\t\ton(cacheOptions, () => {\n\t\t\tif (cacheOptions() === undefined || cacheOptions()!.length === 0) return;\n\t\t\tSetOptions(cacheOptions()!);\n\t\t}),\n\t);\n\n\tcreateEffect(\n\t\ton(options, () => {\n\t\t\tif (options() === undefined || options().length === 0) return;\n\t\t\tif (!getValue() && initialValue() !== undefined) {\n\t\t\t\tconst found = options()!.find(\n\t\t\t\t\t(option) => option[local.optionValue ?? \"value\"] === initialValue(),\n\t\t\t\t);\n\t\t\t\tif (found !== undefined) {\n\t\t\t\t\tsetValue(found);\n\t\t\t\t\t//https://github.com/fabian-hiller/modular-forms/issues/221#issuecomment-2212450429\n\t\t\t\t\tconst input = document.getElementById(\n\t\t\t\t\t\t`${others.name}-super-select`,\n\t\t\t\t\t) as HTMLInputElement;\n\t\t\t\t\tinput.dispatchEvent(\n\t\t\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tsetInitialValue(undefined);\n\t\t\t}\n\t\t}),\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\t{...others}\n\t\t\t\tclass=\"!h-0\"\n\t\t\t\tid={`${others.name}-super-select`}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tvalue={getValue()}\n\t\t\t/>\n\t\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t\t<SuperLabel\n\t\t\t\t\tlabel={local.label}\n\t\t\t\t\tname={others.name}\n\t\t\t\t\trequired={others.required}\n\t\t\t\t/>\n\t\t\t\t<Select\n\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\titemComponent={(props: any) => (\n\t\t\t\t\t\t<SelectItem item={props.item}>{props.item.textValue}</SelectItem>\n\t\t\t\t\t)}\n\t\t\t\t\tname={others.name}\n\t\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\t\tif (e === null || e === \"\") return;\n\t\t\t\t\t\tsetValue(e);\n\t\t\t\t\t\tif (props.onValueChange) {\n\t\t\t\t\t\t\tprops.onValueChange(e.target.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//https://github.com/fabian-hiller/modular-forms/issues/221#issuecomment-2212450429\n\t\t\t\t\t\tconst input = document.getElementById(\n\t\t\t\t\t\t\t`${others.name}-super-select`,\n\t\t\t\t\t\t) as HTMLInputElement;\n\t\t\t\t\t\tif (input)\n\t\t\t\t\t\t\tinput.dispatchEvent(\n\t\t\t\t\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (input)\n\t\t\t\t\t\t\tinput.dispatchEvent(\n\t\t\t\t\t\t\t\tnew Event(\"change\", { bubbles: true, composed: true }),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\toptions={options()}\n\t\t\t\t\toptionTextValue={local.optionTextValue ?? \"label\"}\n\t\t\t\t\toptionValue={local.optionValue ?? \"value\"}\n\t\t\t\t\tplaceholder={others.placeholder}\n\t\t\t\t\tvalue={value()}\n\t\t\t\t>\n\t\t\t\t\t<SelectTrigger\n\t\t\t\t\t\taria-label={`${others.name}-select`}\n\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\"w-full\",\n\t\t\t\t\t\t\tlocal.class,\n\t\t\t\t\t\t\tlocal.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectValue<any>>\n\t\t\t\t\t\t\t{(state: any) => {\n\t\t\t\t\t\t\t\tif (state.selectedOption() === undefined) return \"\";\n\t\t\t\t\t\t\t\treturn state.selectedOption()[local.optionTextValue ?? \"label\"];\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</SelectValue>\n\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t<SelectContent />\n\t\t\t\t</Select>\n\t\t\t\t<Expandable expanded={!!props.error}>\n\t\t\t\t\t<div class={cn(\"mt-1 text-red-500 text-sm\", local.errorClass)}>\n\t\t\t\t\t\t{props.error}\n\t\t\t\t\t</div>\n\t\t\t\t</Expandable>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default SuperSelect;\n"
    },
    {
      "path": "components/super-form/super-searchable-select.tsx",
      "type": "registry:component",
      "content": "import { createAsync } from \"@solidjs/router\";\nimport {\n\ttype ComponentProps,\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\ttype JSX,\n\ton,\n\tsplitProps,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport { SearchableSelect } from \"../ui/searchable-select\";\nimport { SuperLabel } from \"./super-label\";\n\ntype SuperSearchableSelectPropsBase<T> = Omit<\n\tComponentProps<\"input\">,\n\t\"value\" | \"onChange\"\n> & {\n\t/** Current value - string ID for single, comma-separated IDs or array for multiple */\n\tvalue?: string | string[] | null;\n\t/** Label text */\n\tlabel?: string;\n\t/** Callback when value changes (receives the raw value, not the option object) */\n\tonValueChange?: (v: string | string[] | null) => void;\n\t/** Key to use as the unique identifier for each option */\n\toptionValue?: string;\n\t/** Key to use as the display label for each option */\n\toptionLabel?: string;\n\t/** Key to use for chip color (hex, rgb, hsl) */\n\toptionColor?: string;\n\t/** Key to check if option is disabled */\n\toptionDisabled?: string;\n\t/** Error message */\n\terror?: string;\n\t/** Placeholder text when no selection */\n\tplaceholder?: string;\n\t/** Placeholder text for search input */\n\tsearchPlaceholder?: string;\n\t/** Form field name (required) */\n\tname: string;\n\t/** Enable multiple selection mode */\n\tmultiple?: boolean;\n\t/** Enable search functionality (default: true) */\n\tsearchable?: boolean;\n\t/** Custom empty state when no results found */\n\temptyState?: JSX.Element;\n\t/** Wrapper class */\n\twrapperClass?: string;\n\t/** Label class */\n\tlabelClass?: string;\n\t/** Error class */\n\terrorClass?: string;\n\t/** Trigger button class */\n\ttriggerClass?: string;\n\t/** Content popover class */\n\tcontentClass?: string;\n};\n\ntype SuperSearchableSelectPropsWithOptions<T> =\n\tSuperSearchableSelectPropsBase<T> & {\n\t\toptions: T[];\n\t\tqueryFn?: never;\n\t\tqueryFnParams?: never;\n\t};\n\ntype SuperSearchableSelectPropsWithQueryFn<T> =\n\tSuperSearchableSelectPropsBase<T> & {\n\t\tqueryFn: (params: { where?: Record<string, unknown> }) => Promise<T[]>;\n\t\tqueryFnParams?: { where?: Record<string, unknown> };\n\t\toptions?: never;\n\t};\n\nexport type SuperSearchableSelectProps<T> =\n\t| SuperSearchableSelectPropsWithOptions<T>\n\t| SuperSearchableSelectPropsWithQueryFn<T>;\n\nexport function SuperSearchableSelect<T extends Record<string, unknown>>(\n\tprops: SuperSearchableSelectProps<T>,\n): JSX.Element {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"queryFn\",\n\t\t\"queryFnParams\",\n\t\t\"options\",\n\t\t\"optionValue\",\n\t\t\"optionLabel\",\n\t\t\"optionColor\",\n\t\t\"optionDisabled\",\n\t\t\"multiple\",\n\t\t\"searchable\",\n\t\t\"emptyState\",\n\t\t\"placeholder\",\n\t\t\"searchPlaceholder\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"triggerClass\",\n\t\t\"contentClass\",\n\t\t\"onValueChange\",\n\t]);\n\n\tconst optionValueKey = () => (local.optionValue ?? \"value\") as keyof T;\n\tconst optionLabelKey = () => (local.optionLabel ?? \"label\") as keyof T;\n\n\t// Internal selected value state (stores option objects)\n\tconst [selectedValue, setSelectedValue] = createSignal<T | T[] | undefined>(\n\t\tundefined,\n\t);\n\n\t// Track initial value for syncing\n\tconst [initialValue, setInitialValue] = createSignal<\n\t\tstring | string[] | null | undefined\n\t>(props.value ?? undefined);\n\n\t// Async options fetching\n\tconst asyncOptions = createAsync(\n\t\tlocal.queryFn !== undefined\n\t\t\t? () => local.queryFn!(local.queryFnParams ?? {})\n\t\t\t: async () => [] as T[],\n\t\t{\n\t\t\tinitialValue: [] as T[],\n\t\t\tdeferStream: false,\n\t\t},\n\t);\n\n\t// Resolved options (from props or async)\n\tconst [options, setOptions] = createSignal<T[]>(\n\t\tlocal.queryFn ? asyncOptions() : (local.options ?? []),\n\t);\n\n\t// Update initial value when prop changes\n\tcreateEffect(() => {\n\t\tsetInitialValue(props.value ?? undefined);\n\t});\n\n\t// Update options when async options load\n\tcreateEffect(\n\t\ton(asyncOptions, () => {\n\t\t\tif (asyncOptions() && asyncOptions().length > 0) {\n\t\t\t\tsetOptions(asyncOptions());\n\t\t\t}\n\t\t}),\n\t);\n\n\t// Sync initial value to selected value when options are available\n\tcreateEffect(\n\t\ton(options, () => {\n\t\t\tconst opts = options();\n\t\t\tif (!opts || opts.length === 0) return;\n\n\t\t\tconst initial = initialValue();\n\t\t\tif (initial === undefined || initial === null) return;\n\n\t\t\tif (local.multiple) {\n\t\t\t\t// Multiple mode: find all matching options\n\t\t\t\tconst values = Array.isArray(initial)\n\t\t\t\t\t? initial\n\t\t\t\t\t: typeof initial === \"string\"\n\t\t\t\t\t\t? initial.split(\",\").filter(Boolean)\n\t\t\t\t\t\t: [];\n\n\t\t\t\tconst found = opts.filter((opt) =>\n\t\t\t\t\tvalues.includes(String(opt[optionValueKey()])),\n\t\t\t\t);\n\n\t\t\t\tif (found.length > 0) {\n\t\t\t\t\tsetSelectedValue(found);\n\t\t\t\t\tdispatchInputEvent();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Single mode: find matching option\n\t\t\t\tconst found = opts.find(\n\t\t\t\t\t(opt) => String(opt[optionValueKey()]) === initial,\n\t\t\t\t);\n\t\t\t\tif (found) {\n\t\t\t\t\tsetSelectedValue(() => found);\n\t\t\t\t\tdispatchInputEvent();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetInitialValue(undefined);\n\t\t}),\n\t);\n\n\t// Get the value for the hidden input\n\tconst getHiddenInputValue = createMemo(() => {\n\t\tconst selected = selectedValue();\n\t\tif (selected === undefined) return \"\";\n\n\t\tif (local.multiple) {\n\t\t\tconst values = selected as T[];\n\t\t\treturn values.map((v) => String(v[optionValueKey()])).join(\",\");\n\t\t}\n\n\t\treturn String((selected as T)[optionValueKey()]);\n\t});\n\n\t// Dispatch events to notify modular-forms\n\tconst dispatchInputEvent = () => {\n\t\tconst input = document.getElementById(\n\t\t\t`${others.name}-super-searchable-select`,\n\t\t) as HTMLInputElement;\n\t\tif (input) {\n\t\t\tinput.dispatchEvent(\n\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t);\n\t\t\tinput.dispatchEvent(\n\t\t\t\tnew Event(\"change\", { bubbles: true, composed: true }),\n\t\t\t);\n\t\t}\n\t};\n\n\t// Handle selection change\n\tconst handleChange = (value: T | T[] | undefined) => {\n\t\tsetSelectedValue(() => value);\n\t\tdispatchInputEvent();\n\n\t\t// Call onValueChange with the raw value(s)\n\t\tif (local.onValueChange) {\n\t\t\tif (value === undefined) {\n\t\t\t\tlocal.onValueChange(null);\n\t\t\t} else if (local.multiple) {\n\t\t\t\tconst values = value as T[];\n\t\t\t\tlocal.onValueChange(values.map((v) => String(v[optionValueKey()])));\n\t\t\t} else {\n\t\t\t\tlocal.onValueChange(String((value as T)[optionValueKey()]));\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\t{...others}\n\t\t\t\tclass=\"!h-0\"\n\t\t\t\tid={`${others.name}-super-searchable-select`}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tvalue={getHiddenInputValue()}\n\t\t\t/>\n\t\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t\t<SuperLabel\n\t\t\t\t\tlabel={local.label}\n\t\t\t\t\tname={others.name}\n\t\t\t\t\trequired={others.required}\n\t\t\t\t\tclass={local.labelClass}\n\t\t\t\t/>\n\t\t\t\t<SearchableSelect<T>\n\t\t\t\t\toptions={options()}\n\t\t\t\t\tvalue={selectedValue()}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\toptionValue={optionValueKey()}\n\t\t\t\t\toptionLabel={optionLabelKey()}\n\t\t\t\t\toptionColor={local.optionColor as keyof T}\n\t\t\t\t\toptionDisabled={local.optionDisabled as keyof T}\n\t\t\t\t\tmultiple={local.multiple}\n\t\t\t\t\tsearchable={local.searchable}\n\t\t\t\t\tplaceholder={local.placeholder}\n\t\t\t\t\tsearchPlaceholder={local.searchPlaceholder}\n\t\t\t\t\temptyState={local.emptyState}\n\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\tclass={cn(local.class, local.error && \"!ring-red-500 ring-2\")}\n\t\t\t\t\ttriggerClass={local.triggerClass}\n\t\t\t\t\tcontentClass={local.contentClass}\n\t\t\t\t\ttestId={others.name}\n\t\t\t\t/>\n\t\t\t\t<Expandable expanded={!!local.error}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass={cn(\"mt-1 text-red-500 text-sm\", local.errorClass)}\n\t\t\t\t\t\tid={`${others.name}-error`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{local.error}\n\t\t\t\t\t</div>\n\t\t\t\t</Expandable>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default SuperSearchableSelect;\n"
    },
    {
      "path": "components/super-form/super-combobox.tsx",
      "type": "registry:component",
      "content": "import type { ComboboxTriggerMode } from \"@kobalte/core/combobox\";\nimport { XIcon } from \"lucide-solid\";\nimport {\n\ttype ComponentProps,\n\tcreateEffect,\n\tcreateMemo,\n\ttype JSX,\n\ton,\n\tShow,\n\tsplitProps,\n} from \"solid-js\";\nimport { Motion, Presence } from \"solid-motionone\";\nimport { useBindSignal } from \"~/hooks/use-bind-signal\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport {\n\tCombobox,\n\tComboboxContent,\n\tComboboxControl,\n\tComboboxInput,\n\tComboboxItem,\n\tComboboxItemIndicator,\n\tComboboxItemLabel,\n\tComboboxTrigger,\n} from \"../ui/combobox\";\nimport { SuperLabel } from \"./super-label\";\n\ntype SuperComboboxPropsBase = Omit<ComponentProps<\"input\">, \"value\"> & {\n\tvalue?: ComponentProps<\"input\">[\"value\"] | null;\n\tlabel?: string;\n\tclearable?: boolean;\n\tautoSelectFirstOption?: boolean;\n\toptionValue?: string;\n\toptionTextValue?: string;\n\toptionDisabled?: string;\n\terror?: string;\n\tplaceholder?: string;\n\tname: string;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n\ttriggerMode?: ComboboxTriggerMode;\n};\n\ntype SuperComboboxPropsWithOptions<T> = SuperComboboxPropsBase & {\n\toptions: T[];\n\tlastActionOptions?: (T & { action: (v: T) => void; icon?: JSX.Element })[];\n\tfirstActionOptions?: (T & { action: (v: T) => void; icon?: JSX.Element })[];\n\tonValueChange: (v: T | null) => void; // Required because playwright doesnt support synthetic input events\n\tidSuffix?: string;\n};\n\ntype SuperComboboxProps<T> = SuperComboboxPropsWithOptions<T>;\n\nconst SuperCombobox = <T,>(props: SuperComboboxProps<T>) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"clearable\",\n\t\t\"error\",\n\t\t\"options\",\n\t\t\"optionValue\",\n\t\t\"optionTextValue\",\n\t\t\"optionDisabled\",\n\t\t\"autoSelectFirstOption\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"triggerMode\",\n\t]);\n\n\tconst options = createMemo(() => [\n\t\t...(props.firstActionOptions ?? []),\n\t\t...(local.options ?? []),\n\t\t...(props.lastActionOptions ?? []),\n\t]);\n\n\t// This make sure that state is updated when the value in changed\n\tconst [getValue, setValue] = useBindSignal({\n\t\tvalue: () => {\n\t\t\tconst opts = options();\n\t\t\tif (!(opts && Array.isArray(opts))) return;\n\t\t\tconst optionKey = local.optionValue ?? \"value\";\n\t\t\treturn opts.find((option) => {\n\t\t\t\tif (!option || typeof option !== \"object\") return false;\n\t\t\t\t// @ts-expect-error\n\t\t\t\treturn option[optionKey] === props.value;\n\t\t\t});\n\t\t},\n\t});\n\n\tcreateEffect(\n\t\ton([options, () => props.value], () => {\n\t\t\tif (options() === undefined) return;\n\t\t\tif (getValue() === undefined && props.value !== undefined) {\n\t\t\t\tconst found = options()!.find(\n\t\t\t\t\t// @ts-expect-error ts(7053)\n\t\t\t\t\t(option) => option[local.optionValue ?? \"value\"] === props.value,\n\t\t\t\t);\n\t\t\t\tif (found !== undefined) {\n\t\t\t\t\t// @ts-expect-error ts(7053)\n\t\t\t\t\tsetValue(found);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (\n\t\t\t\tlocal.autoSelectFirstOption &&\n\t\t\t\toptions().length > 0 &&\n\t\t\t\tgetValue() === undefined &&\n\t\t\t\tprops.value === undefined\n\t\t\t) {\n\t\t\t\t// @ts-expect-error ts(7053)\n\t\t\t\tsetValue(options()[0]);\n\t\t\t}\n\t\t}),\n\t);\n\n\tconst dispatchInputEvent = () => {\n\t\t//https://github.com/fabian-hiller/modular-forms/issues/221#issuecomment-2212450429\n\n\t\t//This doesnt work with playwright though\n\t\t//Need to have a onValueChange prop that is called when the value is changed\n\t\tconst input = document.getElementById(\n\t\t\t`${others.name}-super-combobox`,\n\t\t) as HTMLInputElement;\n\t\tinput.dispatchEvent(new Event(\"input\", { bubbles: true, composed: true }));\n\t};\n\n\tconst idSuffic = () =>\n\t\tprops.idSuffix ? `${others.idSuffix}-${props.name}` : others.name;\n\n\treturn (\n\t\t<>\n\t\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t\t<SuperLabel\n\t\t\t\t\tlabel={local.label}\n\t\t\t\t\tname={others.name}\n\t\t\t\t\trequired={others.required}\n\t\t\t\t/>\n\t\t\t\t<Combobox\n\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\titemComponent={(props) => (\n\t\t\t\t\t\t<ComboboxItem\n\t\t\t\t\t\t\tdata-test-id={`${idSuffic()}-super-combobox-item-${props.item.textValue}`}\n\t\t\t\t\t\t\titem={props.item}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ComboboxItemLabel class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t{(props.item.rawValue as any)?.icon &&\n\t\t\t\t\t\t\t\t\t(props.item.rawValue as any).icon}\n\t\t\t\t\t\t\t\t{props.item.textValue}\n\t\t\t\t\t\t\t</ComboboxItemLabel>\n\t\t\t\t\t\t\t<ComboboxItemIndicator />\n\t\t\t\t\t\t</ComboboxItem>\n\t\t\t\t\t)}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tif (e && typeof e === \"object\" && \"action\" in e) {\n\t\t\t\t\t\t\t// Performs the action of the lastActionOptions\n\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\te.action(e);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Sets the value of the combobox\n\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\tsetValue(e);\n\t\t\t\t\t\t\tprops.onValueChange(e as T);\n\n\t\t\t\t\t\t\tconsole.log(\"sended values: \", e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\toptionLabel={local.optionTextValue ?? \"label\"}\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\toptions={options()}\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\toptionTextValue={local.optionTextValue ?? \"label\"}\n\t\t\t\t\toptionValue={local.optionValue ?? \"value\"}\n\t\t\t\t\t// value={getValue()}\n\t\t\t\t\ttriggerMode={local.triggerMode}\n\t\t\t\t\tvalue={getValue()}\n\t\t\t\t>\n\t\t\t\t\t<ComboboxControl\n\t\t\t\t\t\taria-label={local.label}\n\t\t\t\t\t\tclass={cn(local.error && \"!ring-red-500 ring-2\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t{(state) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ComboboxInput\n\t\t\t\t\t\t\t\t\tid={`${idSuffic()}-super-combobox-input`}\n\t\t\t\t\t\t\t\t\tonInput={(e) => {\n\t\t\t\t\t\t\t\t\t\t//@ts-expect-error\n\t\t\t\t\t\t\t\t\t\t// setUISearchValue(e.target.value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Presence>\n\t\t\t\t\t\t\t\t\t<Show when={local.clearable && getValue()}>\n\t\t\t\t\t\t\t\t\t\t<Motion.button\n\t\t\t\t\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-full p-1 hover:bg-accent hover:text-accent-foreground\"\n\t\t\t\t\t\t\t\t\t\t\texit={{ opacity: 0, scale: 0.6 }}\n\t\t\t\t\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetValue(undefined);\n\t\t\t\t\t\t\t\t\t\t\t\tstate.clear();\n\t\t\t\t\t\t\t\t\t\t\t\tdispatchInputEvent();\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonPointerDown={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\t\t\t\ttransition={{ duration: 0.3 }}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<XIcon class=\"size-4 opacity-50\" />\n\t\t\t\t\t\t\t\t\t\t</Motion.button>\n\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t</Presence>\n\t\t\t\t\t\t\t\t<ComboboxTrigger id={others.name} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ComboboxControl>\n\t\t\t\t\t<ComboboxContent testIdSuffix={idSuffic()} />\n\t\t\t\t</Combobox>\n\t\t\t\t<Expandable expanded={!!props.error}>\n\t\t\t\t\t<div class={cn(\"mt-1 text-red-500 text-sm\", local.errorClass)}>\n\t\t\t\t\t\t{props.error}\n\t\t\t\t\t</div>\n\t\t\t\t</Expandable>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default SuperCombobox;\n"
    },
    {
      "path": "components/super-form/super-date-picker.tsx",
      "type": "registry:component",
      "content": "import type { DatePickerRootProps, DateValue } from \"@ark-ui/solid/date-picker\";\nimport { getWeek, isPast, isToday, isWeekend } from \"date-fns\";\nimport { CalendarIcon, XIcon } from \"lucide-solid\";\nimport {\n\ttype Component,\n\ttype ComponentProps,\n\tcreateMemo,\n\tcreateSignal,\n\tFor,\n\tShow,\n\tsplitProps,\n} from \"solid-js\";\nimport {\n\tDatePicker,\n\tDatePickerContext,\n\tDatePickerNextTrigger,\n\tDatePickerPrevTrigger,\n\tDatePickerRangeText,\n\tDatePickerTable,\n\tDatePickerTableBody,\n\tDatePickerTableCell,\n\tDatePickerTableCellTrigger,\n\tDatePickerTableHead,\n\tDatePickerTableHeader,\n\tDatePickerTableRow,\n\tDatePickerView,\n\tDatePickerViewControl,\n\tDatePickerViewTrigger,\n} from \"~/components/ui/date-picker\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"~/components/ui/popover\";\nimport { useBindSignal } from \"~/hooks/use-bind-signal\";\nimport {\n\tdateStringToCalendarDate,\n\tformatDutchDate,\n\tparseDutchDateInput,\n\ttoCalendarDateSafe,\n} from \"~/lib/date-utils\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport { Button } from \"../ui/button\";\nimport { SuperLabel } from \"./super-label\";\n\ntype SuperDatePickerProps = Component<\n\tOmit<ComponentProps<\"input\">, \"value\"> & {\n\t\tvalue?: number | Date;\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\twrapperClass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\tmin?: string;\n\t\tmax?: string;\n\t\tclearButton?: boolean;\n\t\tonDateChange?: (value: Date) => void;\n\t\tdatePickerRootProps?: DatePickerRootProps;\n\t\t/** Show ISO week numbers column */\n\t\tshowWeekNumbers?: boolean;\n\t\t/** Disable Saturday and Sunday */\n\t\tdisableWeekends?: boolean;\n\t\t/** Disable dates in the past */\n\t\tdisablePast?: boolean;\n\t\t/** Disable today's date */\n\t\tdisableToday?: boolean;\n\t\t/** ID prefix for form compatibility */\n\t\tprefixId?: string;\n\t}\n>;\n\n/**\n * SuperDatePicker component that seamlessly converts between JavaScript Date objects\n * (used by validation libraries) and @internationalized/date CalendarDate objects\n * (used by the Ark UI DatePicker component).\n *\n * Supports Dutch date format (dd-MM-yyyy) with flexible input parsing.\n * Users can type dates like \"02022025\" or \"02-02-2025\".\n *\n * @param min - The minimum date for the date picker in the format yyyy-mm-dd\n * @param max - The maximum date for the date picker in the format yyyy-mm-dd\n * @param value - Can accept either a JavaScript Date object or number (timestamp)\n * @param onDateChange - Callback that returns a JavaScript Date object\n * @param showWeekNumbers - Show ISO week numbers in the calendar\n * @param disableWeekends - Disable Saturday and Sunday selection\n * @param disablePast - Disable past dates selection\n * @param disableToday - Disable today's date selection\n *\n * @returns A date picker component with proper type conversions\n */\nconst SuperDatePicker: SuperDatePickerProps = (props) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"min\",\n\t\t\"max\",\n\t\t\"clearButton\",\n\t\t\"label\",\n\t\t\"class\",\n\t\t\"error\",\n\t\t\"onDateChange\",\n\t\t\"datePickerRootProps\",\n\t\t\"showWeekNumbers\",\n\t\t\"disableWeekends\",\n\t\t\"disablePast\",\n\t\t\"disableToday\",\n\t\t\"prefixId\",\n\t]);\n\n\tconst [value, setValue] = useBindSignal<number | Date | undefined>({\n\t\tvalue: () => props.value,\n\t});\n\n\tconst [datePickerOpen, setDatePickerOpen] = createSignal(false);\n\tconst [inputValue, setInputValue] = createSignal(\"\");\n\tconst [hasInputError, setHasInputError] = createSignal(false);\n\n\t// Helper to get the Date object from the current value\n\tconst getDateObject = createMemo((): Date | null => {\n\t\tconst currentValue = value();\n\t\tif (!currentValue) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet dateValue: Date;\n\t\tif (typeof currentValue === \"number\") {\n\t\t\tdateValue = new Date(currentValue);\n\t\t} else if (typeof currentValue === \"string\") {\n\t\t\tdateValue = new Date(currentValue);\n\t\t} else {\n\t\t\tdateValue = currentValue;\n\t\t}\n\n\t\tif (Number.isNaN(dateValue.getTime())) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn dateValue;\n\t});\n\n\t// Format for display (Dutch format: dd-MM-yyyy)\n\tconst getFormattedValue = createMemo(() => {\n\t\tconst dateObj = getDateObject();\n\t\tif (!dateObj) return \"\";\n\t\treturn formatDutchDate(dateObj);\n\t});\n\n\t// Format for form input (ISO format: yyyy-MM-dd)\n\tconst getFormValueForInput = createMemo(() => {\n\t\tconst dateObj = getDateObject();\n\t\tif (!dateObj) return \"\";\n\t\tconst year = dateObj.getFullYear();\n\t\tconst month = (dateObj.getMonth() + 1).toString().padStart(2, \"0\");\n\t\tconst day = dateObj.getDate().toString().padStart(2, \"0\");\n\t\treturn `${year}-${month}-${day}`;\n\t});\n\n\t// Sync input value with formatted value when value changes externally\n\tconst displayValue = createMemo(() => {\n\t\t// If user is typing, show their input, otherwise show formatted value\n\t\tconst formatted = getFormattedValue();\n\t\tif (inputValue() === \"\" && formatted) {\n\t\t\treturn formatted;\n\t\t}\n\t\treturn inputValue() || formatted;\n\t});\n\n\t// Convert value to CalendarDate array for DatePicker\n\tconst getDateValue = createMemo(() => {\n\t\tconst currentValue = value();\n\t\tif (!currentValue) return [];\n\n\t\tconst calendarDate = toCalendarDateSafe(currentValue);\n\t\treturn calendarDate ? [calendarDate] : [];\n\t});\n\n\t// Convert min/max strings to CalendarDate\n\tconst getMinDateValue = createMemo((): DateValue | undefined => {\n\t\tif (!local.min) return;\n\t\ttry {\n\t\t\treturn dateStringToCalendarDate(local.min);\n\t\t} catch {\n\t\t\treturn;\n\t\t}\n\t});\n\n\tconst getMaxDateValue = createMemo((): DateValue | undefined => {\n\t\tif (!local.max) return;\n\t\ttry {\n\t\t\treturn dateStringToCalendarDate(local.max);\n\t\t} catch {\n\t\t\treturn;\n\t\t}\n\t});\n\n\tconst inputId = () => {\n\t\tconst prefix = local.prefixId ? `${local.prefixId}-` : \"\";\n\t\treturn `${prefix}${props.name}-super-date-picker`;\n\t};\n\n\t// Handle input changes (user typing)\n\tconst handleInputChange = (e: Event) => {\n\t\tconst target = e.target as HTMLInputElement;\n\t\tsetInputValue(target.value);\n\t\tsetHasInputError(false);\n\t};\n\n\t// Handle input blur - parse and validate the input\n\tconst handleInputBlur = () => {\n\t\tconst input = inputValue();\n\n\t\t// If empty, clear the value\n\t\tif (!input || input.trim() === \"\") {\n\t\t\tsetInputValue(\"\");\n\t\t\tsetHasInputError(false);\n\t\t\treturn;\n\t\t}\n\n\t\t// Try to parse the input\n\t\tconst parsedDate = parseDutchDateInput(input);\n\n\t\tif (parsedDate) {\n\t\t\t// Check against min/max constraints\n\t\t\tconst minDate = local.min ? new Date(local.min) : null;\n\t\t\tconst maxDate = local.max ? new Date(local.max) : null;\n\n\t\t\tif (minDate && parsedDate < minDate) {\n\t\t\t\tsetHasInputError(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (maxDate && parsedDate > maxDate) {\n\t\t\t\tsetHasInputError(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check disable constraints\n\t\t\tif (local.disableWeekends && isWeekend(parsedDate)) {\n\t\t\t\tsetHasInputError(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (local.disablePast && isPast(parsedDate) && !isToday(parsedDate)) {\n\t\t\t\tsetHasInputError(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (local.disableToday && isToday(parsedDate)) {\n\t\t\t\tsetHasInputError(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Valid date - update the value\n\t\t\tsetValue(parsedDate);\n\t\t\tsetInputValue(formatDutchDate(parsedDate));\n\t\t\tsetHasInputError(false);\n\t\t\tlocal.onDateChange?.(parsedDate);\n\n\t\t\t// Dispatch input event for form libraries\n\t\t\tconst inputElement = document.getElementById(\n\t\t\t\tinputId(),\n\t\t\t) as HTMLInputElement;\n\t\t\tif (inputElement) {\n\t\t\t\tinputElement.dispatchEvent(\n\t\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\t// Invalid date - show error and revert to last valid value\n\t\t\tsetHasInputError(true);\n\t\t\t// Revert to formatted value on next tick\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst formatted = getFormattedValue();\n\t\t\t\tif (formatted) {\n\t\t\t\t\tsetInputValue(formatted);\n\t\t\t\t\tsetHasInputError(false);\n\t\t\t\t}\n\t\t\t}, 1500);\n\t\t}\n\t};\n\n\t// Handle date selection from picker\n\tconst handleValueChange = (details: {\n\t\tvalue: DateValue[];\n\t\tvalueAsString: string[];\n\t}) => {\n\t\tif (details.value.length > 0 && details.value[0]) {\n\t\t\tconst calendarDate = details.value[0];\n\t\t\tconst newDate = calendarDate.toDate(\"Europe/Amsterdam\");\n\n\t\t\tsetValue(newDate);\n\t\t\tsetInputValue(formatDutchDate(newDate));\n\t\t\tsetHasInputError(false);\n\t\t\tlocal.onDateChange?.(newDate);\n\n\t\t\t// Dispatch input event for form libraries\n\t\t\tconst inputElement = document.getElementById(\n\t\t\t\tinputId(),\n\t\t\t) as HTMLInputElement;\n\t\t\tif (inputElement) {\n\t\t\t\tinputElement.dispatchEvent(\n\t\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tsetDatePickerOpen(false);\n\t};\n\n\t// Handle clear button\n\tconst handleClear = () => {\n\t\tsetValue(undefined);\n\t\tsetInputValue(\"\");\n\t\tsetHasInputError(false);\n\n\t\tconst inputElement = document.getElementById(inputId()) as HTMLInputElement;\n\t\tif (inputElement) {\n\t\t\tinputElement.dispatchEvent(\n\t\t\t\tnew Event(\"input\", { bubbles: true, composed: true }),\n\t\t\t);\n\t\t}\n\t};\n\n\t// Check if a date should be disabled\n\tconst isDateDisabled = (day: DateValue): boolean => {\n\t\tconst date = day.toDate(\"Europe/Amsterdam\");\n\t\tif (local.disableWeekends && isWeekend(date)) return true;\n\t\tif (local.disablePast && isPast(date) && !isToday(date)) return true;\n\t\tif (local.disableToday && isToday(date)) return true;\n\t\treturn false;\n\t};\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={others.name}\n\t\t\t\trequired={others.required}\n\t\t\t/>\n\t\t\t<div class=\"flex w-full space-x-0.5\">\n\t\t\t\t<div class=\"relative w-full flex-1\">\n\t\t\t\t\t{/* Hidden input for form library compatibility (receives form field props) */}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...others}\n\t\t\t\t\t\taria-errormessage={`${props.name}-error`}\n\t\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\t\tclass=\"sr-only\"\n\t\t\t\t\t\tid={inputId()}\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tvalue={getFormValueForInput()}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Visible text input for user interaction */}\n\t\t\t\t\t<input\n\t\t\t\t\t\taria-invalid={!!props.error || hasInputError()}\n\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\"flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 pr-10 text-sm ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\t\t\t\tlocal.class,\n\t\t\t\t\t\t\t(local.error || hasInputError()) && \"!ring-red-500 ring-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\t\tid={`${inputId()}-display`}\n\t\t\t\t\t\tonBlur={handleInputBlur}\n\t\t\t\t\t\tonInput={handleInputChange}\n\t\t\t\t\t\tplaceholder=\"dd-mm-jjjj\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={displayValue()}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tonOpenChange={setDatePickerOpen}\n\t\t\t\t\t\topen={datePickerOpen()}\n\t\t\t\t\t\tplacement=\"bottom-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PopoverTrigger\n\t\t\t\t\t\t\tas={Button}\n\t\t\t\t\t\t\tclass=\"absolute right-1 top-1/2 -translate-y-1/2 hover:bg-transparent\"\n\t\t\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\t\t\tid={`${inputId()}-trigger`}\n\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CalendarIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t<PopoverContent class=\"w-auto p-3\">\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t{...local.datePickerRootProps}\n\t\t\t\t\t\t\t\tcloseOnSelect={false}\n\t\t\t\t\t\t\t\tlocale=\"nl-NL\"\n\t\t\t\t\t\t\t\tmax={getMaxDateValue()}\n\t\t\t\t\t\t\t\tmin={getMinDateValue()}\n\t\t\t\t\t\t\t\tonValueChange={handleValueChange}\n\t\t\t\t\t\t\t\topen={true}\n\t\t\t\t\t\t\t\tstartOfWeek={1}\n\t\t\t\t\t\t\t\ttimeZone=\"Europe/Amsterdam\"\n\t\t\t\t\t\t\t\tvalue={getDateValue()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DatePickerView view=\"day\">\n\t\t\t\t\t\t\t\t\t<DatePickerContext>\n\t\t\t\t\t\t\t\t\t\t{(api) => (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerPrevTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerRangeText />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerNextTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Show when={local.showWeekNumbers}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableHeader class=\"w-6 flex-none\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tWk\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={api().weekDays}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(weekDay) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{weekDay.short}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={api().weeks}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(week) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Show when={local.showWeekNumbers}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"flex w-6 flex-none items-center justify-center font-normal text-[0.8rem] text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getWeek(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tweek[0]?.toDate(\"Europe/Amsterdam\") ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={week}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(day) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDateDisabled(day)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={day}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{day.day}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</DatePickerContext>\n\t\t\t\t\t\t\t\t</DatePickerView>\n\t\t\t\t\t\t\t\t<DatePickerView view=\"month\">\n\t\t\t\t\t\t\t\t\t<DatePickerContext>\n\t\t\t\t\t\t\t\t\t\t{(api) => (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerPrevTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerRangeText />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerNextTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teach={api().getMonthsGrid({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: 4,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformat: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(months) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={months}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(month) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCell value={month.value}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{month.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</DatePickerContext>\n\t\t\t\t\t\t\t\t</DatePickerView>\n\t\t\t\t\t\t\t\t<DatePickerView view=\"year\">\n\t\t\t\t\t\t\t\t\t<DatePickerContext>\n\t\t\t\t\t\t\t\t\t\t{(api) => (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerPrevTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerRangeText />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerNextTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerViewControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={api().getYearsGrid({ columns: 4 })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(years) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<For each={years}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(year) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCell value={year.value}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{year.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCellTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t</DatePickerTable>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</DatePickerContext>\n\t\t\t\t\t\t\t\t</DatePickerView>\n\t\t\t\t\t\t\t</DatePicker>\n\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t</Popover>\n\t\t\t\t</div>\n\t\t\t\t<Show when={local.clearButton}>\n\t\t\t\t\t<Button onClick={handleClear} size=\"icon\" variant=\"ghost\">\n\t\t\t\t\t\t<XIcon class=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</Show>\n\t\t\t</div>\n\t\t\t<Expandable expanded={!!props.error}>\n\t\t\t\t<div class={cn(\"mt-1 text-red-500 text-sm\", local.errorClass)}>\n\t\t\t\t\t{props.error}\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\t\t</div>\n\t);\n};\n\nexport default SuperDatePicker;\n"
    },
    {
      "path": "components/super-form/super-color-picker.tsx",
      "type": "registry:component",
      "content": "import type { ColorPickerValueChangeDetails } from \"@ark-ui/solid/color-picker\";\nimport { ColorPicker, parseColor } from \"@ark-ui/solid/color-picker\";\nimport type { Component, ComponentProps } from \"solid-js\";\nimport { createEffect, createSignal, For, Show, splitProps } from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport {\n\tColorPickerAreaBackgroundComponent,\n\tColorPickerAreaComponent,\n\tColorPickerAreaThumbComponent,\n\tColorPickerChannelSliderComponent,\n\tColorPickerChannelSliderThumbComponent,\n\tColorPickerChannelSliderTrackComponent,\n\tColorPickerContent,\n\tColorPickerControl,\n\tColorPickerHiddenInput,\n\tColorPickerInput,\n\tColorPickerPositioner,\n\tColorPickerSwatchComponent,\n\tColorPickerSwatchGroup,\n\tColorPickerSwatchIndicatorComponent,\n\tColorPickerSwatchTriggerComponent,\n\tColorPickerTransparencyGridComponent,\n\tColorPickerTrigger,\n\tColorPickerValueSwatch,\n\tColorPickerView,\n} from \"../ui/color-picker\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\ntype SuperColorPickerProps = Omit<ComponentProps<\"input\">, \"value\"> & {\n\tvalue?: string;\n\tlabel?: string;\n\terror?: string;\n\tname: string;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n\tplaceholder?: string;\n\tonValueChange?: (value: string) => void;\n\tshowSwatches?: boolean;\n\tswatchColors?: string[];\n\tformat?: \"rgba\" | \"hsla\" | \"hsba\";\n\talphaDisabled?: boolean;\n};\n\nconst SuperColorPicker: Component<SuperColorPickerProps> = (props) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"onValueChange\",\n\t\t\"showSwatches\",\n\t\t\"swatchColors\",\n\t\t\"format\",\n\t\t\"placeholder\",\n\t\t\"value\",\n\t\t\"name\",\n\t\t\"required\",\n\t\t\"alphaDisabled\",\n\t]);\n\n\tconst [colorValue, setColorValue] = createSignal(\n\t\tlocal.value ? parseColor(local.value) : parseColor(\"#000000\"),\n\t);\n\n\t// Update color when value prop changes\n\tcreateEffect(() => {\n\t\tif (local.value) {\n\t\t\tsetColorValue(parseColor(local.value));\n\t\t}\n\t});\n\n\tconst defaultSwatchColors = [\n\t\t\"#ef4444\",\n\t\t\"#f97316\",\n\t\t\"#f59e0b\",\n\t\t\"#84cc16\",\n\t\t\"#10b981\",\n\t\t\"#06b6d4\",\n\t\t\"#3b82f6\",\n\t\t\"#6366f1\",\n\t\t\"#8b5cf6\",\n\t\t\"#a855f7\",\n\t\t\"#ec4899\",\n\t\t\"#f43f5e\",\n\t];\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tclass={local.labelClass}\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={local.name}\n\t\t\t\trequired={local.required}\n\t\t\t/>\n\t\t\t<ColorPicker.Root\n\t\t\t\tdefaultValue={colorValue()}\n\t\t\t\tformat={local.format}\n\t\t\t\tonValueChange={(details: ColorPickerValueChangeDetails) => {\n\t\t\t\t\tsetColorValue(details.value);\n\t\t\t\t\tconst hexValue = details.value.toString(\"hex\");\n\t\t\t\t\tlocal.onValueChange?.(hexValue);\n\t\t\t\t}}\n\t\t\t\tvalue={colorValue()}\n\t\t\t>\n\t\t\t\t<ColorPickerControl\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\"flex gap-2\",\n\t\t\t\t\t\tlocal.error && \"ring-2 ring-red-500 rounded-md p-2\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<ColorPickerInput\n\t\t\t\t\t\tchannel=\"hex\"\n\t\t\t\t\t\tclass={cn(local.class, local.error && \"!ring-red-500 ring-2\")}\n\t\t\t\t\t\tplaceholder={local.placeholder ?? \"#000000\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<ColorPickerTrigger\n\t\t\t\t\t\taria-errormessage={`${local.name}-error`}\n\t\t\t\t\t\taria-invalid={!!local.error}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ColorPickerTransparencyGridComponent />\n\t\t\t\t\t\t<ColorPickerValueSwatch />\n\t\t\t\t\t</ColorPickerTrigger>\n\t\t\t\t</ColorPickerControl>\n\n\t\t\t\t<ColorPickerPositioner>\n\t\t\t\t\t<ColorPickerContent class=\"w-80\">\n\t\t\t\t\t\t<div class=\"space-y-3\">\n\t\t\t\t\t\t\t{/* Color Area */}\n\t\t\t\t\t\t\t<ColorPickerAreaComponent>\n\t\t\t\t\t\t\t\t<ColorPickerAreaBackgroundComponent />\n\t\t\t\t\t\t\t\t<ColorPickerAreaThumbComponent />\n\t\t\t\t\t\t\t</ColorPickerAreaComponent>\n\n\t\t\t\t\t\t\t{/* Hue Slider */}\n\t\t\t\t\t\t\t<ColorPickerChannelSliderComponent channel=\"hue\">\n\t\t\t\t\t\t\t\t<ColorPickerChannelSliderTrackComponent />\n\t\t\t\t\t\t\t\t<ColorPickerChannelSliderThumbComponent />\n\t\t\t\t\t\t\t</ColorPickerChannelSliderComponent>\n\n\t\t\t\t\t\t\t{/* Alpha Slider */}\n\t\t\t\t\t\t\t<ColorPickerChannelSliderComponent channel=\"alpha\">\n\t\t\t\t\t\t\t\t<ColorPickerTransparencyGridComponent />\n\t\t\t\t\t\t\t\t<ColorPickerChannelSliderTrackComponent />\n\t\t\t\t\t\t\t\t<ColorPickerChannelSliderThumbComponent />\n\t\t\t\t\t\t\t</ColorPickerChannelSliderComponent>\n\n\t\t\t\t\t\t\t{/* Swatches */}\n\t\t\t\t\t\t\t{local.showSwatches !== false && (\n\t\t\t\t\t\t\t\t<ColorPickerSwatchGroup class=\"flex flex-wrap gap-2\">\n\t\t\t\t\t\t\t\t\t<For each={local.swatchColors ?? defaultSwatchColors}>\n\t\t\t\t\t\t\t\t\t\t{(color) => (\n\t\t\t\t\t\t\t\t\t\t\t<ColorPickerSwatchTriggerComponent value={color}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorPickerSwatchComponent value={color}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ColorPickerSwatchIndicatorComponent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ColorPickerSwatchIndicatorComponent>\n\t\t\t\t\t\t\t\t\t\t\t\t</ColorPickerSwatchComponent>\n\t\t\t\t\t\t\t\t\t\t\t</ColorPickerSwatchTriggerComponent>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t</ColorPickerSwatchGroup>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Channel Inputs */}\n\t\t\t\t\t\t\t<ColorPickerView format=\"rgba\" class=\"space-y-2\">\n\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-4 gap-2\">\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"red\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"green\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"blue\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<Show when={!local.alphaDisabled}>\n\t\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"alpha\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ColorPickerView>\n\n\t\t\t\t\t\t\t<ColorPickerView format=\"hsla\" class=\"space-y-2\">\n\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-4 gap-2\">\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"hue\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"saturation\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"lightness\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t<Show when={!local.alphaDisabled}>\n\t\t\t\t\t\t\t\t\t\t<ColorPickerInput channel=\"alpha\" class=\"text-xs\" />\n\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ColorPickerView>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ColorPickerContent>\n\t\t\t\t</ColorPickerPositioner>\n\n\t\t\t\t<ColorPickerHiddenInput {...others} name={local.name} />\n\t\t\t</ColorPicker.Root>\n\n\t\t\t<SuperError\n\t\t\t\tclass={local.errorClass}\n\t\t\t\terror={local.error}\n\t\t\t\tname={local.name}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default SuperColorPicker;\n"
    },
    {
      "path": "components/super-form/super-checkbox.tsx",
      "type": "registry:component",
      "content": "import * as CheckboxPrimitive from \"@kobalte/core/checkbox\";\nimport { type Component, type JSX, Show, splitProps } from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\n\ntype CheckboxProps = {\n\tvalue?: any;\n\trequired?: boolean | undefined;\n\tdisabled?: boolean | undefined;\n\tdefaultChecked?: boolean | undefined;\n\tdisableToggleLabel?: boolean | undefined;\n\tref?: (element: HTMLInputElement) => void;\n\tonInput?: JSX.EventHandler<HTMLInputElement, InputEvent>;\n\tonChange?: JSX.EventHandler<HTMLInputElement, Event>;\n\tonBlur?: JSX.EventHandler<HTMLInputElement, FocusEvent>;\n\tonCheckedChange: (checked: boolean) => void;\n\tlabel?: string;\n\thelperText?: string;\n\terror?: string;\n\tname: string;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n};\n\nconst SuperCheckbox: Component<CheckboxProps> = (props) => {\n\tconst [extraProps, remainingProps] = splitProps(props, [\n\t\t\"label\",\n\t\t\"helperText\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t]);\n\tconst [rootProps, inputProps] = splitProps(\n\t\tremainingProps,\n\t\t[\"name\", \"value\", \"required\", \"disabled\"],\n\t\t[\"ref\", \"onInput\", \"onChange\", \"onBlur\"],\n\t);\n\n\treturn (\n\t\t<div class={cn(extraProps.wrapperClass)}>\n\t\t\t<div class=\"flex flex-row gap-x-3 space-y-0\">\n\t\t\t\t<CheckboxPrimitive.Root\n\t\t\t\t\tclass={cn(\"items-top group flex space-x-2 pt-0.5\")}\n\t\t\t\t\t{...rootProps}\n\t\t\t\t\tchecked={remainingProps?.value ?? false}\n\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\tonChange={(checked) => {\n\t\t\t\t\t\tprops?.onCheckedChange(checked);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CheckboxPrimitive.Input\n\t\t\t\t\t\tid={`${rootProps.name}-super-checkbox`}\n\t\t\t\t\t\t{...rootProps}\n\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\t\tonChange={remainingProps.onChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t/>\n\t\t\t\t\t<CheckboxPrimitive.Control\n\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\"peer size-4 shrink-0 cursor-pointer rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[checked]:border-none data-[checked]:bg-primary data-[checked]:text-primary-foreground\",\n\t\t\t\t\t\t\tprops.disabled && \"cursor-not-allowed opacity-50\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tid={`${rootProps.name}-super-checkbox-control`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CheckboxPrimitive.Indicator\n\t\t\t\t\t\t\tid={`${rootProps.name}-super-checkbox-indicator`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\taria-label=\"Checked\"\n\t\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M5 12l5 5l10 -10\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</CheckboxPrimitive.Indicator>\n\t\t\t\t\t</CheckboxPrimitive.Control>\n\t\t\t\t</CheckboxPrimitive.Root>\n\t\t\t\t<div class=\"leading-none\">\n\t\t\t\t\t<Show when={!!props.label}>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\t\"font-medium text-sm\",\n\t\t\t\t\t\t\t\tremainingProps?.onCheckedChange ? \"cursor-pointer\" : \"\",\n\t\t\t\t\t\t\t\tprops.disabled && \"cursor-not-allowed opacity-50\",\n\t\t\t\t\t\t\t\textraProps.labelClass,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tremainingProps?.value !== undefined &&\n\t\t\t\t\t\t\t\t\t!props.disableToggleLabel &&\n\t\t\t\t\t\t\t\t\t!props.disabled\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tremainingProps?.onCheckedChange?.(!remainingProps.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.label}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show when={!!props.helperText}>\n\t\t\t\t\t\t<p class=\"mt-1 text-muted-foreground text-sm\">{props.helperText}</p>\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Expandable expanded={!!extraProps.error}>\n\t\t\t\t<div class={cn(\"mt-1 text-red-500 text-sm\", extraProps.errorClass)}>\n\t\t\t\t\t{extraProps.error}\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\t\t</div>\n\t);\n};\n\nexport default SuperCheckbox;\n"
    },
    {
      "path": "components/super-form/super-file-input-list.tsx",
      "type": "registry:component",
      "content": "import { type FormStore, remove } from \"@modular-forms/solid\";\nimport clsx from \"clsx\";\nimport { ChevronDownIcon, ChevronUpIcon, TrashIcon } from \"lucide-solid\";\nimport {\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\tFor,\n\ttype JSX,\n\tShow,\n\tsplitProps,\n} from \"solid-js\";\nimport { useBindSignal } from \"~/hooks/use-bind-signal\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport { Button } from \"../ui/button\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\ntype FileInputProps = {\n\tref: (element: HTMLInputElement) => void;\n\tname: string;\n\tvalue?: File[] | File;\n\tonInput: JSX.EventHandler<HTMLInputElement, InputEvent>;\n\tonChange: JSX.EventHandler<HTMLInputElement, Event>;\n\tonBlur: JSX.EventHandler<HTMLInputElement, FocusEvent>;\n\taccept?: string;\n\trequired?: boolean;\n\tdisabled?: boolean;\n\tmultiple?: boolean;\n\terrorClass?: string;\n\tlabelClass?: string;\n\twrapperClass?: string;\n\tformStore: FormStore<any, any>;\n\tonNestedItemRemove: (index: number) => void;\n\tclass?: string;\n\tlabel?: string;\n\terror?: string;\n\tdefaultValueLabel?: string;\n};\n\n/**\n * File input field that users can click or drag files into. Various\n * decorations can be displayed in or around the field to communicate the entry\n * requirements.\n */\nexport function FileInputList(props: FileInputProps) {\n\tconst [expanded, setExpanded] = useBindSignal({\n\t\tvalue: () => false,\n\t});\n\n\tconst [inputRef, setInputRef] = createSignal<HTMLInputElement>();\n\t// Split input element props\n\tconst [otherProps, inputProps] = splitProps(props, [\n\t\t\"class\",\n\t\t\"value\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"defaultValueLabel\",\n\t]);\n\n\t// Create file list\n\tconst getFiles = createMemo(() =>\n\t\tprops.value\n\t\t\t? Array.isArray(props.value)\n\t\t\t\t? props.value\n\t\t\t\t: [props.value]\n\t\t\t: [],\n\t);\n\n\tcreateEffect(() => {\n\t\tif (getFiles().length > 1) {\n\t\t\tsetExpanded(true);\n\t\t}\n\t});\n\n\treturn (\n\t\t<div class={clsx(\"space-y-1.5\", props.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tclass={props.labelClass}\n\t\t\t\tlabel={props.label}\n\t\t\t\tname={props.name}\n\t\t\t\trequired={props.required}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tclass={clsx(\n\t\t\t\t\t\"relative flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\t\t!getFiles().length && \"text-slate-500\",\n\t\t\t\t\tinputProps.disabled\n\t\t\t\t\t\t? \"cursor-not-allowed opacity-50\"\n\t\t\t\t\t\t: \"cursor-pointer\",\n\t\t\t\t\tprops.class,\n\t\t\t\t)}\n\t\t\t\tonClick={() => inputRef()?.click()}\n\t\t\t>\n\t\t\t\t{otherProps.defaultValueLabel ?? (\n\t\t\t\t\t<>Klik of sleep een bestand{props.multiple && \"en\"}</>\n\t\t\t\t)}\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\taria-errormessage={`${props.name}-error`}\n\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\tclass=\"absolute top-0 left-0 hidden h-full w-full opacity-0\"\n\t\t\t\t\tid={props.name}\n\t\t\t\t\tref={setInputRef}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Expandable expanded={getFiles().length > 1}>\n\t\t\t\t{/* <Expandable expanded={getFiles().length > 0}> */}\n\t\t\t\t<Button\n\t\t\t\t\tclass={cn(\"w-full justify-between\")}\n\t\t\t\t\tonclick={() => setExpanded(!expanded())}\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t>\n\t\t\t\t\t<span> Bekijk bestanden</span>{\" \"}\n\t\t\t\t\t<Show\n\t\t\t\t\t\tfallback={<ChevronDownIcon class=\"ml-2 size-4\" />}\n\t\t\t\t\t\twhen={expanded()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronUpIcon class=\"ml-2 size-4\" />\n\t\t\t\t\t</Show>\n\t\t\t\t</Button>\n\t\t\t\t<Show when={expanded()}>\n\t\t\t\t\t<hr />\n\t\t\t\t</Show>\n\t\t\t</Expandable>\n\t\t\t<Expandable expanded={expanded()}>\n\t\t\t\t<div class=\"flex max-h-[200px] flex-col gap-2 overflow-y-auto px-2\">\n\t\t\t\t\t<For each={getFiles()}>\n\t\t\t\t\t\t{(file, index) => (\n\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<span>{file.name}</span>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(`remove ${props.name} at ${index()}`);\n\t\t\t\t\t\t\t\t\t\tremove(props.formStore, props.name, { at: index() });\n\t\t\t\t\t\t\t\t\t\tprops.onNestedItemRemove(index());\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TrashIcon class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</For>\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\n\t\t\t<SuperError\n\t\t\t\tclass={props.errorClass}\n\t\t\t\terror={props.error}\n\t\t\t\tname={props.name}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"
    },
    {
      "path": "components/super-form/super-password-update.tsx",
      "type": "registry:component",
      "content": "import { EyeIcon, EyeOffIcon } from \"lucide-solid\";\nimport type { Component, ComponentProps } from \"solid-js\";\nimport { createEffect, createSignal, Show, splitProps } from \"solid-js\";\nimport { Button } from \"~/components/ui/button\";\nimport { cn } from \"~/lib/utils\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\nconst SuperPasswordUpdate: Component<\n\tComponentProps<\"input\"> & {\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\twrapperClass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\tisEdit?: boolean;\n\t\thelpText?: string;\n\t}\n> = (props) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"class\",\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"isEdit\",\n\t\t\"helpText\",\n\t]);\n\n\tconst [ref, setRef] = createSignal<HTMLInputElement>();\n\tconst [showPassword, setShowPassword] = createSignal(false);\n\tconst [hasBeenFocused, setHasBeenFocused] = createSignal(false);\n\tconst [currentValue, setCurrentValue] = createSignal(\"\");\n\n\t// Set initial value for edit mode\n\tcreateEffect(() => {\n\t\tconst inputRef = ref();\n\t\tif (inputRef && local.isEdit && !hasBeenFocused()) {\n\t\t\tinputRef.value = \"********\";\n\t\t\tsetCurrentValue(\"********\");\n\t\t}\n\t});\n\n\tconst dispatchInputEvent = () => {\n\t\tconst input = document.getElementById(\n\t\t\t`${others.name}-super-password-update`,\n\t\t) as HTMLInputElement;\n\t\tinput.dispatchEvent(new Event(\"input\", { bubbles: true, composed: true }));\n\t};\n\n\tconst handleFocus = () => {\n\t\tconst inputRef = ref();\n\t\tif (inputRef && local.isEdit && !hasBeenFocused()) {\n\t\t\tinputRef.value = \"\";\n\t\t\tsetCurrentValue(\"\");\n\t\t\tsetHasBeenFocused(true);\n\t\t\tdispatchInputEvent();\n\t\t}\n\t};\n\n\tconst handleBlur = () => {\n\t\tconst inputRef = ref();\n\t\tif (inputRef && local.isEdit && hasBeenFocused() && inputRef.value === \"\") {\n\t\t\tinputRef.value = \"********\";\n\t\t\tsetCurrentValue(\"********\");\n\t\t\tdispatchInputEvent();\n\t\t}\n\t};\n\n\tconst handleInput = (e: Event) => {\n\t\tconst target = e.target as HTMLInputElement;\n\t\tsetCurrentValue(target.value);\n\t};\n\n\tconst inputId = () => `${others.name}-super-password-update`;\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={inputId()}\n\t\t\t\trequired={others.required}\n\t\t\t/>\n\t\t\t<div class=\"relative\">\n\t\t\t\t<input\n\t\t\t\t\taria-errormessage={`${props.name}-error`}\n\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\"flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 pr-20 text-sm ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\t\t\tlocal.class,\n\t\t\t\t\t\tlocal.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\t)}\n\t\t\t\t\tid={inputId()}\n\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\tonInput={handleInput}\n\t\t\t\t\tref={setRef}\n\t\t\t\t\ttype={showPassword() ? \"text\" : \"password\"}\n\t\t\t\t\t{...others}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tclass=\"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent\"\n\t\t\t\t\tdisabled={others.disabled}\n\t\t\t\t\tonClick={() => setShowPassword((prev) => !prev)}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t>\n\t\t\t\t\t<Show when={showPassword()}>\n\t\t\t\t\t\t<EyeIcon aria-hidden=\"true\" class=\"h-4 w-4\" />\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show when={!showPassword()}>\n\t\t\t\t\t\t<EyeOffIcon aria-hidden=\"true\" class=\"h-4 w-4\" />\n\t\t\t\t\t</Show>\n\t\t\t\t\t<span class=\"sr-only\">\n\t\t\t\t\t\t{showPassword() ? \"Hide password\" : \"Show password\"}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<Show when={local.helpText}>\n\t\t\t\t<p class=\"text-muted-foreground text-sm\">{local.helpText}</p>\n\t\t\t</Show>\n\t\t\t<SuperError error={props.error} name={inputId()} />\n\t\t</div>\n\t);\n};\n\nexport default SuperPasswordUpdate;\n"
    },
    {
      "path": "components/super-form/super-label.tsx",
      "type": "registry:component",
      "content": "import { Show } from \"solid-js\";\nimport {\n\tTooltip,\n\tTooltipContent,\n\tTooltipTrigger,\n} from \"~/components/ui/tooltip\";\nimport { cn } from \"~/lib/utils\";\n\ntype InputLabelProps = {\n\tname: string;\n\tlabel?: string;\n\trequired?: boolean;\n\tclass?: string;\n\trequiredClass?: string;\n};\n\n/**\n * Input label for a form field.\n */\nexport function SuperLabel(props: InputLabelProps) {\n\treturn (\n\t\t<Show when={props.label}>\n\t\t\t<label\n\t\t\t\tclass={cn(\n\t\t\t\t\t\"flex items-center font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n\t\t\t\t\tprops.class,\n\t\t\t\t)}\n\t\t\t\tfor={props.name}\n\t\t\t>\n\t\t\t\t{props.label}\n\n\t\t\t\t<Show when={props.required}>\n\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t<TooltipTrigger tabIndex={-1} type=\"button\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\t\t\"ml-1 text-red-600 dark:text-red-400\",\n\t\t\t\t\t\t\t\t\tprops.requiredClass,\n\t\t\t\t\t\t\t\t)} // Make the span not focusable\n\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t*\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t\t<TooltipContent>Verplicht</TooltipContent>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Show>\n\t\t\t</label>\n\t\t</Show>\n\t);\n}\n"
    },
    {
      "path": "components/super-form/super-error.tsx",
      "type": "registry:component",
      "content": "import { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\n\ntype SuperErrorProps = {\n\tname: string;\n\terror?: string;\n\tclass?: string;\n};\n\n/**\n * Input error that tells the user what to do to fix the problem.\n */\nexport function SuperError(props: SuperErrorProps) {\n\treturn (\n\t\t<Expandable expanded={!!props.error}>\n\t\t\t<div\n\t\t\t\tclass={cn(\"mt-1 text-red-500 text-sm\", props.class)}\n\t\t\t\tid={`${props.name}-error`}\n\t\t\t>\n\t\t\t\t{props.error}\n\t\t\t</div>\n\t\t</Expandable>\n\t);\n}\n"
    },
    {
      "path": "components/super-form/modular-forms-select.tsx",
      "type": "registry:component",
      "content": "import { XIcon } from \"lucide-solid\";\nimport {\n\ttype ComponentProps,\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\tFor,\n\ton,\n\tShow,\n\tsplitProps,\n} from \"solid-js\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectHiddenSelect,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"~/components/ui/select\";\nimport { cn } from \"~/lib/utils\";\nimport { getColorStyles } from \"~/lib/utils/color\";\nimport { Expandable } from \"../helpers/expandable\";\nimport { SuperLabel } from \"./super-label\";\n\nexport const ModularFormsSelect = <T,>(\n\tprops: ComponentProps<\"select\"> & {\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\toptions: T[];\n\t\tplaceholder?: string;\n\t\toptionValue?: string;\n\t\toptionTextValue?: string;\n\t\toptionDisabled?: string;\n\t\toptionColor?: string;\n\t\tclass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\trequired?: boolean;\n\t\trequiredClass?: string;\n\t\tmultiple?: boolean;\n\t\twrapperClass?: string;\n\t\t\"data-testid\"?: string;\n\t},\n) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"class\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"required\",\n\t\t\"requiredClass\",\n\t\t\"options\",\n\t\t\"placeholder\",\n\t\t\"optionValue\",\n\t\t\"optionTextValue\",\n\t\t\"optionDisabled\",\n\t\t\"multiple\",\n\t\t\"wrapperClass\",\n\t\t\"data-testid\",\n\t]);\n\tconst getInitialValue = () => {\n\t\tconst value = props.value;\n\n\t\tif (local.multiple) {\n\t\t\t// Handle multiple selection - value should be an array or comma-separated string\n\t\t\tconst values = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t\t: typeof value === \"string\" && value\n\t\t\t\t\t? value.split(\",\")\n\t\t\t\t\t: [];\n\n\t\t\tif (typeof props.options[0] === \"object\") {\n\t\t\t\treturn props.options.filter((option) =>\n\t\t\t\t\tvalues.includes(String(option[props.optionValue as keyof T])),\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn props.options.filter((option) => values.includes(String(option)));\n\t\t}\n\n\t\t// Handle single selection\n\t\tif (typeof props.options[0] === \"object\") {\n\t\t\tconst res = props.options.find(\n\t\t\t\t(option) => option[props.optionValue as keyof T] === value,\n\t\t\t);\n\t\t\treturn res;\n\t\t}\n\t\tconst res = props.options.find((option) => option === value);\n\t\treturn res;\n\t};\n\n\tconst [value, setValue] = createSignal<T | T[] | undefined>(\n\t\tgetInitialValue(),\n\t);\n\n\tconst isObject = createMemo(() => {\n\t\treturn typeof props.options[0] === \"object\";\n\t});\n\n\tconst itemLabel = (item: T) => {\n\t\tif (isObject()) {\n\t\t\treturn <>{item[props.optionTextValue as keyof T]}</>;\n\t\t}\n\t\treturn String(item);\n\t};\n\n\tconst itemValue = (item: T) => {\n\t\tif (isObject()) {\n\t\t\treturn String(item[props.optionValue as keyof T]);\n\t\t}\n\t\treturn String(item);\n\t};\n\n\t// Ref for hidden input in multiple mode\n\tlet hiddenInputRef: HTMLInputElement | undefined;\n\n\t// Sync external value changes (from modular-forms) to internal state\n\tcreateEffect(\n\t\ton(\n\t\t\t() => props.value,\n\t\t\t(externalValue) => {\n\t\t\t\tif (externalValue !== undefined) {\n\t\t\t\t\t(setValue as any)(getInitialValue());\n\t\t\t\t}\n\t\t\t},\n\t\t),\n\t);\n\n\t// Trigger input event when value changes (for multiple mode)\n\tcreateEffect(\n\t\ton(value, () => {\n\t\t\tif (local.multiple && hiddenInputRef) {\n\t\t\t\t// Trigger input event to notify modular-forms\n\t\t\t\tconst event = new Event(\"input\", { bubbles: true });\n\t\t\t\thiddenInputRef.dispatchEvent(event);\n\t\t\t}\n\t\t}),\n\t);\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={others.name}\n\t\t\t\trequired={local.required}\n\t\t\t\tclass={local.labelClass}\n\t\t\t\trequiredClass={local.requiredClass}\n\t\t\t/>\n\t\t\t<Select\n\t\t\t\tmultiple={local.multiple}\n\t\t\t\tvalue={value() as any}\n\t\t\t\tonChange={setValue as any}\n\t\t\t\tname={props.name}\n\t\t\t\toptions={props.options}\n\t\t\t\toptionValue={props.optionValue as any}\n\t\t\t\toptionTextValue={props.optionTextValue as any}\n\t\t\t\toptionDisabled={props.optionDisabled as any}\n\t\t\t\tplaceholder={props.placeholder || \"Select an option...\"}\n\t\t\t\titemComponent={(itemProps) => (\n\t\t\t\t\t<SelectItem item={itemProps.item}>\n\t\t\t\t\t\t{itemLabel(itemProps.item.rawValue as T)}\n\t\t\t\t\t</SelectItem>\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<Show\n\t\t\t\t\twhen={!local.multiple}\n\t\t\t\t\tfallback={\n\t\t\t\t\t\t// For multiple selection, use comma-separated values\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...(others as ComponentProps<\"input\">)}\n\t\t\t\t\t\t\tref={hiddenInputRef}\n\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\tvalue={((value() as T[]) || [])\n\t\t\t\t\t\t\t\t.map((item) => itemValue(item))\n\t\t\t\t\t\t\t\t.join(\",\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<SelectHiddenSelect {...others} />\n\t\t\t\t</Show>\n\t\t\t\t<SelectTrigger\n\t\t\t\t\taria-label={props.label || props.name}\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\"w-full\",\n\t\t\t\t\t\tlocal.multiple && \"h-auto min-h-10 py-2\",\n\t\t\t\t\t\tlocal.class,\n\t\t\t\t\t)}\n\t\t\t\t\tdata-testid={local[\"data-testid\"]}\n\t\t\t\t>\n\t\t\t\t\t<SelectValue<T>\n\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\"w-full text-left\",\n\t\t\t\t\t\t\tothers.value === \"\" && \"text-muted-foreground\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{(state) => {\n\t\t\t\t\t\t\tif (local.multiple) {\n\t\t\t\t\t\t\t\tconst selectedOptions = state.selectedOptions() as T[];\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Show when={selectedOptions.length > 0}>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-wrap gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t<For each={selectedOptions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{(option) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst colorValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption[props.optionColor as keyof T];\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst colorStyles =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolorValue && typeof colorValue === \"string\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getColorStyles(colorValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst hasValidColor = !!colorStyles;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-sm\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!hasValidColor && \"bg-primary/10 text-primary\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={colorStyles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonPointerDown={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{itemLabel(option)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"hover:bg-primary/20 rounded-sm p-0.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.remove(option);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={`Remove ${itemLabel(option)}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<XIcon class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t</For>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn itemLabel(state.selectedOption() as T);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</SelectValue>\n\t\t\t\t\t<Show when={local.multiple && (value() as T[])?.length > 0}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"hover:bg-muted rounded-sm p-1\"\n\t\t\t\t\t\t\tonPointerDown={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t(setValue as any)([] as T[]);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Clear all selections\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<XIcon class=\"size-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Show>\n\t\t\t\t</SelectTrigger>\n\t\t\t\t<SelectContent />\n\t\t\t</Select>\n\t\t\t<Expandable expanded={!!props.error}>\n\t\t\t\t<div\n\t\t\t\t\tclass={cn(\"text-sm text-red-500 mt-1\", local.errorClass)}\n\t\t\t\t\tid={`${others.name}-error`}\n\t\t\t\t>\n\t\t\t\t\t{local.error}\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\t\t</div>\n\t);\n};\n"
    },
    {
      "path": "components/super-form/modular-forms-combobox.tsx",
      "type": "registry:component",
      "content": "import debounce from \"debounce\";\nimport {\n\ttype ComponentProps,\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\ton,\n\tsplitProps,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { Expandable } from \"../helpers/expandable\";\nimport {\n\tCombobox,\n\tComboboxContent,\n\tComboboxControl,\n\tComboboxHiddenSelect,\n\tComboboxInput,\n\tComboboxItem,\n\tComboboxItemIndicator,\n\tComboboxItemLabel,\n\tComboboxTrigger,\n} from \"../ui/combobox\";\nimport { SuperLabel } from \"./super-label\";\n\nexport const ModularFormsCombobox = <T,>(\n\tprops: ComponentProps<\"select\"> & {\n\t\tlabel?: string;\n\t\terror?: string;\n\t\tname: string;\n\t\toptions: T[];\n\t\tplaceholder?: string;\n\t\toptionValue?: string;\n\t\toptionTextValue?: string;\n\t\toptionDisabled?: string;\n\t\tclass?: string;\n\t\tlabelClass?: string;\n\t\terrorClass?: string;\n\t\trequired?: boolean;\n\t\trequiredClass?: string;\n\t\tmultiple?: boolean;\n\t\twrapperClass?: string;\n\t\tonInputOverride?: (value: string) => void;\n\t\tdisableFilter?: boolean;\n\t},\n) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"class\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"required\",\n\t\t\"requiredClass\",\n\t\t\"options\",\n\t\t\"placeholder\",\n\t\t\"optionValue\",\n\t\t\"optionTextValue\",\n\t\t\"optionDisabled\",\n\t\t\"multiple\",\n\t\t\"wrapperClass\",\n\t\t\"onInputOverride\",\n\t\t\"disableFilter\",\n\t]);\n\tconst getInitialValue = () => {\n\t\tconst value = props.value;\n\n\t\tif (local.multiple) {\n\t\t\t// Handle multiple selection - value should be an array or comma-separated string\n\t\t\tconst values = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t\t: typeof value === \"string\" && value\n\t\t\t\t\t? value.split(\",\")\n\t\t\t\t\t: [];\n\n\t\t\tif (typeof props.options[0] === \"object\") {\n\t\t\t\treturn props.options.filter((option) =>\n\t\t\t\t\tvalues.includes(String(option[props.optionValue as keyof T])),\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn props.options.filter((option) => values.includes(String(option)));\n\t\t}\n\n\t\t// Handle single selection\n\t\tif (typeof props.options[0] === \"object\") {\n\t\t\tconst res = props.options.find(\n\t\t\t\t(option) => option[props.optionValue as keyof T] === value,\n\t\t\t);\n\t\t\treturn res;\n\t\t}\n\t\tconst res = props.options.find((option) => option === value);\n\t\treturn res;\n\t};\n\n\tconst [value, setValue] = createSignal<T | T[] | null>(\n\t\tgetInitialValue() ?? null,\n\t);\n\n\tconst isObject = createMemo(() => {\n\t\treturn typeof props.options[0] === \"object\";\n\t});\n\n\tconst itemLabel = (item: T) => {\n\t\tif (!item) return \"\";\n\n\t\tif (isObject()) {\n\t\t\treturn String(item[props.optionTextValue as keyof T]);\n\t\t}\n\t\treturn String(item);\n\t};\n\n\tconst itemValue = (item: T) => {\n\t\tif (!item) return null;\n\n\t\tif (isObject()) {\n\t\t\treturn String(item[props.optionValue as keyof T]);\n\t\t}\n\t\treturn String(item);\n\t};\n\n\t// Ref for hidden input in multiple mode\n\tlet hiddenInputRef: HTMLInputElement | undefined;\n\n\t// // Sync external value changes (from modular-forms) to internal state\n\t// createEffect(\n\t// \ton(\n\t// \t\t() => props.value,\n\t// \t\t(externalValue) => {\n\t// \t\t\tif (externalValue !== undefined) {\n\t// \t\t\t\t(setValue as any)(getInitialValue());\n\t// \t\t\t}\n\t// \t\t},\n\t// \t),\n\t// );\n\n\t// Trigger input event when value changes (for multiple mode)\n\tcreateEffect(\n\t\ton(value, (value) => {\n\t\t\tconsole.log(\"[value] value\", value);\n\t\t\tif (value) {\n\t\t\t\tconsole.log(\"[value] value\", value);\n\t\t\t\tsetInputValue(itemLabel(value as T));\n\t\t\t}\n\t\t\t// if (local.multiple && hiddenInputRef) {\n\t\t\t// \t// Trigger input event to notify modular-forms\n\t\t\t// \tconst event = new Event(\"input\", { bubbles: true });\n\t\t\t// \thiddenInputRef.dispatchEvent(event);\n\t\t\t// }\n\t\t}),\n\t);\n\n\t/**\n\t * Input override vars\n\t */\n\tconst [inputValue, setInputValue] = createSignal(\"\");\n\tconst [query, setQuery] = createSignal(\"\");\n\tconst [debouncedQuery, setDebouncedQuery] = createSignal(\"\");\n\n\t// Create debounced function with 500ms delay\n\tconst debouncedSetQuery = debounce((value: string) => {\n\t\tsetDebouncedQuery(value);\n\t}, 500);\n\n\t// Update debounced query when query changes\n\tcreateEffect(\n\t\ton(query, (value) => {\n\t\t\tconsole.log(\"[query] value\", value);\n\t\t\tdebouncedSetQuery(value);\n\t\t\tif (value === \"\") {\n\t\t\t\tsetValue(null);\n\t\t\t}\n\t\t}),\n\t);\n\n\tcreateEffect(\n\t\ton(debouncedQuery, (value) => {\n\t\t\tlocal.onInputOverride?.(value);\n\t\t}),\n\t);\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={others.name}\n\t\t\t\trequired={local.required}\n\t\t\t\tclass={local.labelClass}\n\t\t\t\trequiredClass={local.requiredClass}\n\t\t\t/>\n\t\t\t<Combobox\n\t\t\t\tvalue={value() as any}\n\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\tconsole.log(\"[onChange] value\", newValue);\n\t\t\t\t\tif (value() !== null && newValue === null) {\n\t\t\t\t\t\tsetInputValue(\"\");\n\t\t\t\t\t}\n\t\t\t\t\tsetValue((newValue as any) ?? null);\n\t\t\t\t}}\n\t\t\t\tname={props.name}\n\t\t\t\toptions={props.options}\n\t\t\t\toptionValue={props.optionValue as any}\n\t\t\t\toptionTextValue={props.optionTextValue as any}\n\t\t\t\toptionLabel={props.optionTextValue as any}\n\t\t\t\toptionDisabled={props.optionDisabled as any}\n\t\t\t\tplaceholder={props.placeholder || \"Select an option...\"}\n\t\t\t\tonInputChange={(value) => {\n\t\t\t\t\tif (typeof value === \"string\" && value !== \"[object Object]\") {\n\t\t\t\t\t\tsetQuery(value);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tdefaultFilter={local.disableFilter ? () => true : undefined}\n\t\t\t\titemComponent={(props) => (\n\t\t\t\t\t<ComboboxItem item={props.item}>\n\t\t\t\t\t\t<ComboboxItemLabel>\n\t\t\t\t\t\t\t{itemLabel(props.item.rawValue as T)}\n\t\t\t\t\t\t</ComboboxItemLabel>\n\t\t\t\t\t\t<ComboboxItemIndicator />\n\t\t\t\t\t</ComboboxItem>\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<ComboboxHiddenSelect {...others} />\n\t\t\t\t<ComboboxControl aria-label=\"Fruit\">\n\t\t\t\t\t<ComboboxInput\n\t\t\t\t\t\tonInput={(e) => {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"[onInput] value\",\n\t\t\t\t\t\t\t\t(e.target as HTMLInputElement).value,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetInputValue((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={inputValue()}\n\t\t\t\t\t/>\n\t\t\t\t\t<ComboboxTrigger />\n\t\t\t\t</ComboboxControl>\n\t\t\t\t<ComboboxContent />\n\t\t\t</Combobox>\n\t\t\t<Expandable expanded={!!props.error}>\n\t\t\t\t<div\n\t\t\t\t\tclass={cn(\"text-sm text-red-500 mt-1\", local.errorClass)}\n\t\t\t\t\tid={`${others.name}-error`}\n\t\t\t\t>\n\t\t\t\t\t{local.error}\n\t\t\t\t</div>\n\t\t\t</Expandable>\n\t\t</div>\n\t);\n};\n"
    },
    {
      "path": "components/super-form/modular-forms-toggle-button.tsx",
      "type": "registry:component",
      "content": "import * as ButtonPrimitive from \"@kobalte/core/button\";\nimport { type Component, type JSX, Show, splitProps } from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\ntype ToggleButtonProps = {\n\tvalue?: boolean;\n\trequired?: boolean | undefined;\n\tdisabled?: boolean | undefined;\n\tdefaultPressed?: boolean | undefined;\n\tref?: (element: HTMLInputElement) => void;\n\tonInput?: JSX.EventHandler<HTMLInputElement, InputEvent>;\n\tonChange?: JSX.EventHandler<HTMLInputElement, Event>;\n\tonBlur?: JSX.EventHandler<HTMLInputElement, FocusEvent>;\n\tonPressedChange: (pressed: boolean) => void;\n\tlabel?: string;\n\thelperText?: string;\n\terror?: string;\n\tname: string;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n\tvariant?: \"default\" | \"outline\" | \"ghost\" | \"secondary\";\n\tsize?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n\ttext?: string;\n\ticon?: Component<JSX.IntrinsicElements[\"svg\"]>;\n\tchildren?: JSX.Element;\n\tselectedColor?: string;\n};\n\nconst ModularFormsToggleButton: Component<ToggleButtonProps> = (props) => {\n\tconst [extraProps, remainingProps] = splitProps(props, [\n\t\t\"label\",\n\t\t\"helperText\",\n\t\t\"error\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"variant\",\n\t\t\"size\",\n\t\t\"text\",\n\t\t\"icon\",\n\t\t\"children\",\n\t\t\"selectedColor\",\n\t]);\n\tconst [rootProps, inputProps] = splitProps(\n\t\tremainingProps,\n\t\t[\"name\", \"value\", \"required\", \"disabled\"],\n\t\t[\"ref\", \"onInput\", \"onChange\", \"onBlur\"],\n\t);\n\n\tconst isPressed = () => remainingProps?.value ?? false;\n\tconst inputId = () => `${rootProps.name}-toggle-button-input`;\n\n\tconst buttonVariantClasses = () => {\n\t\tconst base =\n\t\t\t\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\";\n\n\t\tconst variant = extraProps.variant ?? \"outline\";\n\t\tconst size = extraProps.size ?? \"default\";\n\n\t\tconst variantClasses = {\n\t\t\tdefault: isPressed()\n\t\t\t\t? \"bg-primary text-primary-foreground hover:bg-primary/90\"\n\t\t\t\t: \"bg-background text-foreground hover:bg-accent hover:text-accent-foreground\",\n\t\t\toutline: isPressed()\n\t\t\t\t? \"border border-primary bg-primary text-primary-foreground hover:bg-primary/90\"\n\t\t\t\t: \"border border-input hover:bg-accent hover:text-accent-foreground\",\n\t\t\tghost: isPressed()\n\t\t\t\t? \"bg-accent text-accent-foreground\"\n\t\t\t\t: \"hover:bg-accent hover:text-accent-foreground\",\n\t\t\tsecondary: isPressed()\n\t\t\t\t? \"bg-secondary text-secondary-foreground hover:bg-secondary/80\"\n\t\t\t\t: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n\t\t};\n\n\t\tconst sizeClasses = {\n\t\t\tdefault: \"h-10 px-4 py-2\",\n\t\t\tsm: \"h-9 px-3 text-xs\",\n\t\t\tlg: \"h-11 px-8\",\n\t\t\ticon: \"size-10\",\n\t\t};\n\n\t\treturn cn(base, variantClasses[variant], sizeClasses[size]);\n\t};\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", extraProps.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={extraProps.label}\n\t\t\t\tname={inputId()}\n\t\t\t\trequired={rootProps.required}\n\t\t\t\tclass={extraProps.labelClass}\n\t\t\t/>\n\t\t\t<div class=\"flex flex-col gap-1\">\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\tchecked={isPressed()}\n\t\t\t\t\tclass=\"sr-only\"\n\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\tid={inputId()}\n\t\t\t\t\tname={rootProps.name}\n\t\t\t\t\trequired={rootProps.required}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tconst checked = (e.target as HTMLInputElement).checked;\n\t\t\t\t\t\tremainingProps?.onPressedChange?.(checked);\n\t\t\t\t\t\tinputProps.onChange?.(e);\n\t\t\t\t\t}}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t/>\n\t\t\t\t<ButtonPrimitive.Root\n\t\t\t\t\taria-pressed={isPressed()}\n\t\t\t\t\taria-errormessage={props.error ? `${inputId()}-error` : undefined}\n\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\tbuttonVariantClasses(),\n\t\t\t\t\t\tprops.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\t\tprops.disabled && \"cursor-not-allowed opacity-50\",\n\t\t\t\t\t)}\n\t\t\t\t\tdata-pressed={isPressed()}\n\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\tstyle={\n\t\t\t\t\t\textraProps.selectedColor && isPressed()\n\t\t\t\t\t\t\t? { \"background-color\": extraProps.selectedColor }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (!props.disabled) {\n\t\t\t\t\t\t\tconst newValue = !isPressed();\n\t\t\t\t\t\t\tremainingProps?.onPressedChange?.(newValue);\n\t\t\t\t\t\t\t// Trigger change event on hidden input for modular forms\n\t\t\t\t\t\t\tconst input = document.getElementById(\n\t\t\t\t\t\t\t\tinputId(),\n\t\t\t\t\t\t\t) as HTMLInputElement;\n\t\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\t\tinput.checked = newValue;\n\t\t\t\t\t\t\t\tinput.dispatchEvent(new Event(\"change\", { bubbles: true }));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t{extraProps.children ? (\n\t\t\t\t\t\textraProps.children\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{extraProps.icon && (\n\t\t\t\t\t\t\t\t<extraProps.icon\n\t\t\t\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\t\t\t\"size-4 shrink-0\",\n\t\t\t\t\t\t\t\t\t\textraProps.text && extraProps.size !== \"icon\" && \"mr-2\",\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{extraProps.text && <span>{extraProps.text}</span>}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonPrimitive.Root>\n\t\t\t\t<Show when={!!extraProps.helperText}>\n\t\t\t\t\t<p class=\"text-muted-foreground text-sm\">{extraProps.helperText}</p>\n\t\t\t\t</Show>\n\t\t\t</div>\n\t\t\t<SuperError\n\t\t\t\terror={extraProps.error}\n\t\t\t\tname={inputId()}\n\t\t\t\tclass={extraProps.errorClass}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ModularFormsToggleButton;\n"
    },
    {
      "path": "components/super-form/modular-forms-toggle-button-group.tsx",
      "type": "registry:component",
      "content": "import * as ButtonPrimitive from \"@kobalte/core/button\";\nimport {\n\ttype Component,\n\ttype ComponentProps,\n\tcreateEffect,\n\tFor,\n\ton,\n\tShow,\n\tsplitProps,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { SuperError } from \"./super-error\";\nimport { SuperLabel } from \"./super-label\";\n\ntype ToggleButtonOption = {\n\tlabel?: string;\n\tlabelIcon?: Component<JSX.IntrinsicElements[\"svg\"]>;\n\tvalue: string | number | boolean;\n\tselectedColor?: string;\n};\n\ntype ToggleButtonGroupProps = ComponentProps<\"input\"> & {\n\tlabel?: string;\n\terror?: string;\n\tname: string;\n\toptions: ToggleButtonOption[];\n\tvalue?: (string | number | boolean)[];\n\trequired?: boolean | undefined;\n\tdisabled?: boolean | undefined;\n\tonValueChange: (value: (string | number | boolean)[]) => void;\n\twrapperClass?: string;\n\tlabelClass?: string;\n\terrorClass?: string;\n\tvariant?: \"default\" | \"outline\" | \"ghost\" | \"secondary\";\n\tsize?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n\torientation?: \"horizontal\" | \"vertical\";\n\tref?: (element: HTMLInputElement) => void;\n\tonInput?: ComponentProps<\"input\">[\"onInput\"];\n\tonChange?: ComponentProps<\"input\">[\"onChange\"];\n\tonBlur?: ComponentProps<\"input\">[\"onBlur\"];\n};\n\nconst ModularFormsToggleButtonGroup: Component<ToggleButtonGroupProps> = (\n\tprops,\n) => {\n\tconst [local, others] = splitProps(props, [\n\t\t\"label\",\n\t\t\"error\",\n\t\t\"options\",\n\t\t\"value\",\n\t\t\"required\",\n\t\t\"disabled\",\n\t\t\"onValueChange\",\n\t\t\"wrapperClass\",\n\t\t\"labelClass\",\n\t\t\"errorClass\",\n\t\t\"variant\",\n\t\t\"size\",\n\t\t\"orientation\",\n\t]);\n\n\tconst [inputProps] = splitProps(others, [\n\t\t\"ref\",\n\t\t\"onInput\",\n\t\t\"onChange\",\n\t\t\"onBlur\",\n\t]);\n\n\t// Ref for hidden input\n\tlet hiddenInputRef: HTMLInputElement | undefined;\n\n\tconst isSelected = (optionValue: string | number | boolean) => {\n\t\tif (!local.value || local.value.length === 0) return false;\n\t\t// Check if the option value is in the array (with type coercion)\n\t\treturn local.value.some(\n\t\t\t(val) => val === optionValue || String(val) === String(optionValue),\n\t\t);\n\t};\n\n\tconst inputId = () => `${others.name}-toggle-button-group-input`;\n\tconst groupId = () => `${others.name}-toggle-button-group`;\n\n\t// Sync value prop with hidden input (comma-separated for modular forms)\n\tcreateEffect(\n\t\ton(\n\t\t\t() => local.value,\n\t\t\t(values) => {\n\t\t\t\tif (!hiddenInputRef) return;\n\t\t\t\tconst valueString = (values ?? []).map(String).join(\",\");\n\t\t\t\t// Only update if the value is actually different to prevent loops\n\t\t\t\tif (hiddenInputRef.value !== valueString) {\n\t\t\t\t\thiddenInputRef.value = valueString;\n\t\t\t\t\t// Trigger input event to notify modular forms\n\t\t\t\t\tconst event = new Event(\"input\", { bubbles: true });\n\t\t\t\t\thiddenInputRef.dispatchEvent(event);\n\t\t\t\t}\n\t\t\t},\n\t\t),\n\t);\n\n\tconst buttonVariantClasses = (isPressed: boolean) => {\n\t\tconst base =\n\t\t\t\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\";\n\n\t\tconst variant = local.variant ?? \"outline\";\n\t\tconst size = local.size ?? \"default\";\n\n\t\tconst variantClasses = {\n\t\t\tdefault: isPressed\n\t\t\t\t? \"bg-primary text-primary-foreground hover:bg-primary/90\"\n\t\t\t\t: \"bg-background text-foreground hover:bg-accent hover:text-accent-foreground\",\n\t\t\toutline: isPressed\n\t\t\t\t? \"border border-primary bg-primary text-primary-foreground hover:bg-primary/90\"\n\t\t\t\t: \"border border-input hover:bg-accent hover:text-accent-foreground\",\n\t\t\tghost: isPressed\n\t\t\t\t? \"bg-accent text-accent-foreground\"\n\t\t\t\t: \"hover:bg-accent hover:text-accent-foreground\",\n\t\t\tsecondary: isPressed\n\t\t\t\t? \"bg-secondary text-secondary-foreground hover:bg-secondary/80\"\n\t\t\t\t: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n\t\t};\n\n\t\tconst sizeClasses = {\n\t\t\tdefault: \"h-10 px-4 py-2\",\n\t\t\tsm: \"h-9 px-3 text-xs\",\n\t\t\tlg: \"h-11 px-8\",\n\t\t\ticon: \"size-10\",\n\t\t};\n\n\t\treturn cn(base, variantClasses[variant], sizeClasses[size]);\n\t};\n\n\tconst handleButtonClick = (optionValue: string | number | boolean) => {\n\t\tif (!local.disabled) {\n\t\t\tconst currentValues = local.value ?? [];\n\t\t\tconst isCurrentlySelected = isSelected(optionValue);\n\n\t\t\t// Toggle the value: remove if present, add if not present\n\t\t\tconst newValues = isCurrentlySelected\n\t\t\t\t? currentValues.filter(\n\t\t\t\t\t\t(val) => val !== optionValue && String(val) !== String(optionValue),\n\t\t\t\t\t)\n\t\t\t\t: [...currentValues, optionValue];\n\n\t\t\tlocal.onValueChange(newValues);\n\t\t\t// The createEffect will handle syncing the hidden input and triggering events\n\t\t}\n\t};\n\n\treturn (\n\t\t<div class={cn(\"w-full items-center space-y-1.5\", local.wrapperClass)}>\n\t\t\t<SuperLabel\n\t\t\t\tlabel={local.label}\n\t\t\t\tname={inputId()}\n\t\t\t\trequired={local.required}\n\t\t\t\tclass={local.labelClass}\n\t\t\t/>\n\t\t\t<div class=\"flex flex-col gap-1\">\n\t\t\t\t{/* Hidden input for modular forms - comma-separated values for arrays */}\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\tref={hiddenInputRef}\n\t\t\t\t\tclass=\"sr-only\"\n\t\t\t\t\tdisabled={local.disabled}\n\t\t\t\t\tid={inputId()}\n\t\t\t\t\tname={others.name}\n\t\t\t\t\trequired={local.required}\n\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\tvalue={(local.value ?? []).map(String).join(\",\")}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t// Only call the original onChange handler, don't update our state\n\t\t\t\t\t\t// The hidden input is read-only from modular forms' perspective\n\t\t\t\t\t\tinputProps.onChange?.(e);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\"inline-flex overflow-auto\",\n\t\t\t\t\t\tlocal.orientation === \"vertical\" ? \"flex-col\" : \"flex-row\",\n\t\t\t\t\t\t\"[&>button]:rounded-none\",\n\t\t\t\t\t\t\"[&>button:first-child]:rounded-l-md\",\n\t\t\t\t\t\t\"[&>button:last-child]:rounded-r-md\",\n\t\t\t\t\t\tlocal.orientation === \"vertical\" &&\n\t\t\t\t\t\t\t\"[&>button:first-child]:rounded-t-md\",\n\t\t\t\t\t\tlocal.orientation === \"vertical\" &&\n\t\t\t\t\t\t\t\"[&>button:last-child]:rounded-b-md\",\n\t\t\t\t\t\tlocal.orientation === \"vertical\" &&\n\t\t\t\t\t\t\t\"[&>button:not(:last-child)]:rounded-b-none\",\n\t\t\t\t\t\tlocal.orientation === \"vertical\" &&\n\t\t\t\t\t\t\t\"[&>button:not(:first-child)]:rounded-t-none\",\n\t\t\t\t\t\tlocal.orientation === \"horizontal\" &&\n\t\t\t\t\t\t\t\"[&>button:not(:last-child)]:rounded-r-none\",\n\t\t\t\t\t\tlocal.orientation === \"horizontal\" &&\n\t\t\t\t\t\t\t\"[&>button:not(:first-child)]:rounded-l-none\",\n\t\t\t\t\t)}\n\t\t\t\t\tid={groupId()}\n\t\t\t\t\trole=\"group\"\n\t\t\t\t\taria-label={local.label}\n\t\t\t\t>\n\t\t\t\t\t<For each={local.options}>\n\t\t\t\t\t\t{(option) => {\n\t\t\t\t\t\t\tconst pressed = () => isSelected(option.value);\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ButtonPrimitive.Root\n\t\t\t\t\t\t\t\t\taria-pressed={pressed()}\n\t\t\t\t\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t\t\t\t\tbuttonVariantClasses(pressed()),\n\t\t\t\t\t\t\t\t\t\tlocal.error && \"!ring-red-500 ring-2\",\n\t\t\t\t\t\t\t\t\t\tlocal.disabled && \"cursor-not-allowed opacity-50\",\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdata-pressed={pressed()}\n\t\t\t\t\t\t\t\t\tdisabled={local.disabled}\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\toption.selectedColor && pressed()\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"background-color\": option.selectedColor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"border-color\": option.selectedColor,\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={() => handleButtonClick(option.value)}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* labelIcon takes precedence - if present, show only icon */}\n\t\t\t\t\t\t\t\t\t{option.labelIcon ? (\n\t\t\t\t\t\t\t\t\t\t<option.labelIcon class=\"size-4 shrink-0\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t/* Otherwise show label if present, or fall back to value */\n\t\t\t\t\t\t\t\t\t\t<span>{option.label ?? String(option.value)}</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ButtonPrimitive.Root>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</For>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<SuperError\n\t\t\t\terror={local.error}\n\t\t\t\tname={inputId()}\n\t\t\t\tclass={local.errorClass}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ModularFormsToggleButtonGroup;\n"
    }
  ]
}