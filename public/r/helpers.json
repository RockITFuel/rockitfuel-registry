{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "helpers",
  "type": "registry:block",
  "title": "Helper Components",
  "description": "Utility components for actions, empty states, loading states, and more",
  "dependencies": ["debounce", "lucide-solid"],
  "files": [
    {
      "path": "components/helpers/action-wrapper.tsx",
      "type": "registry:component",
      "content": "import { type Action, type CustomResponse, useAction } from \"@solidjs/router\";\nimport debounce from \"debounce\";\nimport type { Accessor, JSX } from \"solid-js\";\nimport useLoading from \"~/hooks/use-loading\";\n\ntype NarrowResponse<T> =\n  T extends CustomResponse<infer U> ? U : Exclude<T, Response>;\n\ntype Props<T extends any[], U> = {\n  action: Action<T, U>;\n  delayLoadingTime?: number;\n  debounce?: number;\n  convertDatesToUTC?: boolean;\n  onError?: (error: Error) => void;\n  onSuccess?: (e: NarrowResponse<U>) => void;\n  children: (props: {\n    isLoading: Accessor<boolean>;\n    action: debounce.DebouncedFunction<\n      (...args: Parameters<Action<T, U>>) => Promise<void>\n    >;\n  }) => JSX.Element;\n};\n\n// Utility function to convert a Date to UTC\nfunction convertToUTC(date: Date): Date {\n  return new Date(\n    Date.UTC(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds()\n    )\n  );\n}\n\n// Utility function to recursively convert Date objects to UTC\nfunction convertDatesToUTC<T>(obj: T): T {\n  if (obj === null || obj === undefined) {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    return convertToUTC(obj) as T;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map((item) => convertDatesToUTC(item)) as T;\n  }\n\n  if (typeof obj === \"object\") {\n    const converted: any = {};\n    for (const [key, value] of Object.entries(obj)) {\n      converted[key] = convertDatesToUTC(value);\n    }\n    return converted;\n  }\n\n  return obj;\n}\n\nexport default function ActionWrapper<T extends any[], U>(props: Props<T, U>) {\n  const handleAction = useAction(props.action);\n  const [isLoading, setIsLoading] = useLoading(props.delayLoadingTime);\n\n  const action = async (...args: Parameters<Action<T, U>>) => {\n    setIsLoading();\n    try {\n      // Convert all Date fields to UTC before passing to the action if enabled\n      const convertedArgs = props.convertDatesToUTC\n        ? (args.map((arg) => convertDatesToUTC(arg)) as Parameters<\n            Action<T, U>\n          >)\n        : args;\n      await handleAction(...convertedArgs).then((res) =>\n        props.onSuccess?.(res)\n      );\n    } catch (error) {\n      console.error(\"error: \", JSON.stringify(error, null, 2));\n      if (error instanceof Error) {\n        props.onError?.(error);\n      }\n    }\n    setIsLoading.cancel();\n  };\n  const debouncedAction = debounce(action, props.debounce ?? 300);\n\n  return props.children({ isLoading, action: debouncedAction });\n}\n"
    },
    {
      "path": "components/helpers/action-button.tsx",
      "type": "registry:component",
      "content": "import * as ButtonPrimitive from \"@kobalte/core/button\";\nimport type { PolymorphicProps } from \"@kobalte/core/polymorphic\";\nimport { type Action, useAction } from \"@solidjs/router\";\nimport type { VariantProps } from \"class-variance-authority\";\nimport { cva } from \"class-variance-authority\";\nimport { LoaderCircle } from \"lucide-solid\";\nimport {\n  type Accessor,\n  createEffect,\n  createSignal,\n  type JSX,\n  Show,\n  splitProps,\n  type ValidComponent,\n} from \"solid-js\";\nimport { cn } from \"~/lib/utils/shadcn\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-md font-medium text-sm ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\ntype ButtonProps<T extends Array<any>, U> = ButtonPrimitive.ButtonRootProps &\n  VariantProps<typeof buttonVariants> & {\n    class?: string | undefined;\n    children?: JSX.Element | ((isLoading: Accessor<boolean>) => JSX.Element);\n    action: Action<T, U>;\n    loadingIndicator?: boolean;\n    actionArg: Parameters<Action<T, U>>;\n    onClick?: (actionPromise: Promise<void>) => void;\n    onError?: (error: Error) => void;\n    onSucces?: () => void;\n  };\n\nconst ActionButton = <\n  T extends ValidComponent = \"button\",\n  A extends Array<any> = [],\n  R = void,\n>(\n  props: PolymorphicProps<T, ButtonProps<A, R>>\n) => {\n  const [local, others] = splitProps(props as ButtonProps<A, R>, [\n    \"variant\",\n    \"size\",\n    \"class\",\n    \"action\",\n    \"onClick\",\n    \"children\",\n    \"onError\",\n    \"onSucces\",\n    \"actionArg\",\n    \"onClick\",\n    \"loadingIndicator\",\n  ]);\n  const handleAction = useAction(local.action);\n  const [isLoading, setIsLoading] = createSignal(false);\n\n  createEffect(() => {\n    console.log(\"isLoading: \", isLoading());\n  });\n  return (\n    <ButtonPrimitive.Root\n      class={cn(\n        buttonVariants({ variant: local.variant, size: local.size }),\n        local.class\n      )}\n      onClick={() => {\n        setIsLoading(true);\n        const promise = handleAction(...local.actionArg)\n          .then((e) => {\n            if (e instanceof Error) {\n              return local.onError?.(e);\n            }\n            local.onSucces?.();\n          })\n          .finally(() => {\n            console.log(\"finally\");\n            setIsLoading(false);\n          });\n        local.onClick?.(promise);\n      }}\n      {...others}\n      children={\n        typeof local.children === \"function\" ? (\n          local.children(isLoading)\n        ) : (\n          <>\n            <Show fallback={local.children} when={local.loadingIndicator}>\n              <div class=\"\">\n                <Show when={isLoading()}>\n                  <LoaderCircle class=\"mr-2 h-4 w-4 animate-spin\" />\n                </Show>\n                <Show when={local.size !== \"icon\"}>\n                  <span>{local.children}</span>\n                </Show>\n              </div>\n            </Show>\n          </>\n        )\n      }\n    />\n  );\n};\n\nexport default ActionButton;\n// children={\n//     typeof local.children === \"function\" ? (\n//       local.children(isLoading)\n//     ) : (\n//       <>\n//         <Show when={local.loadingIndicator} fallback={local.children}>\n//           <div class=\"\">\n//             <Show when={isLoading()}>\n//               <LoaderCircle class=\"mr-2 h-4 w-4 animate-spin\" />\n//             </Show>\n//             <Show when={local.size !== \"icon\"}>\n//               <span>{local.children}</span>\n//             </Show>\n//           </div>\n//         </Show>\n//       </>\n//     )\n//   }\n"
    },
    {
      "path": "components/helpers/empty-state.tsx",
      "type": "registry:component",
      "content": "import { SearchXIcon } from \"lucide-solid\";\nimport { type JSX, Show } from \"solid-js\";\n\nexport type EmptyStateProps = {\n  title?: string;\n  description?: string;\n  icon?: JSX.Element;\n  class?: string;\n};\n\nexport default function EmptyState(props: EmptyStateProps) {\n  return (\n    <div\n      class={`flex flex-col items-center justify-center text-center ${props.class || \"\"}`}\n    >\n      <Show\n        fallback={\n          <SearchXIcon class=\"mx-auto mb-4 h-12 w-12 text-muted-foreground\" />\n        }\n        when={props.icon}\n      >\n        {props.icon}\n      </Show>\n      <h3 class=\"mb-2 font-medium text-lg\">\n        {props.title || \"Geen resultaten gevonden\"}\n      </h3>\n      <p class=\"text-muted-foreground\">\n        {props.description ||\n          \"Probeer je zoekopdracht aan te passen of check later terug.\"}\n      </p>\n    </div>\n  );\n}\n"
    },
    {
      "path": "components/helpers/empty-table.tsx",
      "type": "registry:component",
      "content": "import { SearchXIcon } from \"lucide-solid\";\nimport { type JSX, Show } from \"solid-js\";\nimport { TableCell, TableRow } from \"../ui/table\";\n\nexport type EmptyTableProps = {\n  title?: string;\n  description?: string;\n  icon?: JSX.Element;\n};\n\nexport default function EmptyTableRow(props: EmptyTableProps) {\n  return (\n    <TableRow>\n      <TableCell colSpan={999}>\n        <div class=\"py-8 text-center\">\n          <Show\n            fallback={\n              <SearchXIcon class=\"mx-auto mb-4 h-12 w-12 text-muted-foreground\" />\n            }\n            when={props.icon}\n          >\n            {props.icon}\n          </Show>\n          <h3 class=\"mb-2 font-medium text-lg\">\n            {props.title || \"Geen resultaten gevonden\"}\n          </h3>\n          <p class=\"text-muted-foreground\">\n            {props.description ||\n              \"Probeer je zoekopdracht aan te passen of check later terug.\"}\n          </p>\n        </div>\n      </TableCell>\n    </TableRow>\n  );\n}\n"
    },
    {
      "path": "components/helpers/loading-table.tsx",
      "type": "registry:component",
      "content": "import { LoaderCircle } from \"lucide-solid\";\nimport { type JSX, Show } from \"solid-js\";\nimport { TableCell, TableRow } from \"../ui/table\";\n\nexport type LoadingTableProps = {\n  title?: string;\n  description?: string;\n  icon?: JSX.Element;\n};\n\nexport default function LoadingTableRow(props: LoadingTableProps) {\n  return (\n    <TableRow>\n      <TableCell colSpan={999}>\n        <div class=\"py-8 text-center\">\n          <Show\n            fallback={\n              <LoaderCircle class=\"mx-auto mb-4 h-12 w-12 animate-spin text-muted-foreground\" />\n            }\n            when={props.icon}\n          >\n            {props.icon}\n          </Show>\n          <h3 class=\"mb-2 font-medium text-lg\">{props.title || \"Laden...\"}</h3>\n          <p class=\"text-muted-foreground\">\n            {props.description || \"Even geduld, we halen de gegevens op.\"}\n          </p>\n        </div>\n      </TableCell>\n    </TableRow>\n  );\n}\n"
    },
    {
      "path": "components/helpers/expandable.tsx",
      "type": "registry:component",
      "content": "import { makeEventListener } from \"@solid-primitives/event-listener\";\nimport { isClient } from \"@solid-primitives/utils\";\nimport clsx from \"clsx\";\nimport { createEffect, createSignal, type JSX, on, onMount } from \"solid-js\";\n\ntype ExpandableProps = {\n  class?: string;\n  children: JSX.Element;\n  expanded: boolean;\n};\n\n/**\n * Wrapper component to vertically expand or collapse content.\n */\nexport function Expandable(props: ExpandableProps) {\n  // Create painted, element, element height and frozen children signal\n  const [getPainted, setPainted] = createSignal(false);\n  const [getElement, setElement] = createSignal<HTMLDivElement>();\n  const [getElementHeight, setElementHeight] = createSignal<number>(0);\n  const [getFrozenChildren, setFrozenChildren] = createSignal<JSX.Element>();\n\n  // Set painted to true after DOM has had time to paint\n  onMount(() => setTimeout(() => setPainted(true)));\n\n  // Freeze children while element collapses to prevent UI from jumping\n  createEffect(\n    on<boolean, JSX.Element>(\n      () => props.expanded,\n      (expanded, _, prevChildren) => {\n        if (!expanded) {\n          setFrozenChildren(prevChildren);\n          setTimeout(\n            () => setFrozenChildren(),\n            Number.parseFloat(\n              getComputedStyle(getElement()!).transitionDuration\n            ) * 1000\n          );\n        }\n        return props.children;\n      }\n    )\n  );\n\n  /**\n   * Handles the expandable element height.\n   */\n  const handleElementHeight = () =>\n    setElementHeight(props.expanded ? getElement()!.scrollHeight : 0);\n\n  // Expand or collapse content when expanded prop change\n  createEffect(on(() => props.expanded, handleElementHeight));\n\n  // Update element height when window size change\n  if (isClient) {\n    makeEventListener(window, \"resize\", handleElementHeight);\n  }\n\n  return (\n    <div\n      aria-hidden={!props.expanded}\n      class={clsx(\n        \"h-0 origin-top\",\n        getPainted() && \"duration-200\",\n        !props.expanded && \"invisible -translate-y-2 scale-y-75 opacity-0\",\n        props.class\n      )}\n      ref={setElement}\n      style={{ height: `${getElementHeight()}px` }}\n    >\n      {getFrozenChildren() || props.children}\n    </div>\n  );\n}\n"
    },
    {
      "path": "components/helpers/re-route.tsx",
      "type": "registry:component",
      "content": "import { useLocation, useNavigate } from \"@solidjs/router\";\nimport { createEffect } from \"solid-js\";\nimport { isDev } from \"solid-js/web\";\n\nexport default function ReRoute({\n  routes,\n}: {\n  routes: { from: string[]; to: string }[];\n}) {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  createEffect(() => {\n    console.debug(\"[ReRoute] Routes:\", routes);\n    routes.forEach(({ from, to }) => {\n      if (from.some((f) => location.pathname === f)) {\n        if (isDev) {\n          console.debug(\"[ReRoute] Matched reroute:\", {\n            from,\n            currentPath: location.pathname,\n            to,\n            location,\n          });\n        }\n        navigate(to);\n      } else if (isDev) {\n        console.debug(\"[ReRoute] No match for route:\", {\n          currentPath: location.pathname,\n          from,\n        });\n      }\n    });\n  });\n  return <></>;\n}\n"
    },
    {
      "path": "components/helpers/role-badge.tsx",
      "type": "registry:component",
      "content": "import type { Component } from \"solid-js\";\nimport { Badge } from \"~/components/ui/badge\";\n\nexport type RoleBadgeProps = {\n  role: \"care_taker\" | \"team_lead\" | \"planner\" | \"admin\" | \"read_only\";\n};\n\nconst roleConfig = {\n  care_taker: {\n    label: \"Hulpverlener\",\n    colorClass: \"bg-orange-600 hover:bg-orange-700\",\n  },\n  team_lead: {\n    label: \"Teamlead\",\n    colorClass: \"bg-orange-600 hover:bg-orange-700\",\n  },\n  planner: {\n    label: \"Planner\",\n    colorClass: \"bg-orange-600 hover:bg-orange-700\",\n  },\n  admin: {\n    label: \"Beheerder\",\n    colorClass: \"bg-slate-500 hover:bg-slate-600\",\n  },\n  read_only: {\n    label: \"Management\",\n    colorClass: \"bg-slate-500 hover:bg-slate-600\",\n  },\n};\n\nconst RoleBadge: Component<RoleBadgeProps> = (props) => {\n  const config = () => roleConfig[props.role];\n\n  return (\n    <Badge class={`${config().colorClass} text-white`} round variant=\"default\">\n      {config().label}\n    </Badge>\n  );\n};\n\nexport default RoleBadge;\n"
    },
    {
      "path": "components/helpers/upsert-dialog-trigger.tsx",
      "type": "registry:component",
      "content": "import { Edit, LoaderCircle, Plus } from \"lucide-solid\";\nimport { createMemo, Show } from \"solid-js\";\nimport { Button } from \"~/components/ui/button\";\nimport { DialogTrigger } from \"~/components/ui/dialog\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"~/components/ui/tooltip\";\nimport { cn } from \"~/lib/utils/shadcn\";\n\ntype Settings = {\n  text?: string;\n  showText?: boolean;\n  tooltipText?: string;\n  showTooltip?: boolean;\n};\n\ntype Props = {\n  isAddMode: boolean;\n  isLoading: boolean;\n  onClick?: () => void;\n  edit?: Settings;\n  add?: Settings;\n  isIcon?: boolean;\n};\n\nexport default function UpsertDialogTrigger(_props: Props) {\n  const props = createMemo(\n    () =>\n      ({\n        ..._props,\n        add: _props?.add ?? {\n          text: \"Toevoegen\",\n          showText: true,\n          tooltipText: \"Toevoegen\",\n          showTooltip: false,\n        },\n        edit: _props?.edit ?? {\n          text: \"Bewerken\",\n          showText: true,\n          tooltipText: \"Bewerken\",\n          showTooltip: false,\n        },\n      }) satisfies Props\n  );\n  return (\n    <DialogTrigger onClick={props().onClick}>\n      <Tooltip>\n        <TooltipTrigger>\n          <Button\n            size={props().isIcon ? \"icon\" : \"default\"}\n            variant={props().isAddMode ? \"default\" : \"ghost\"}\n          >\n            <Show\n              fallback={\n                props().isAddMode ? (\n                  <Plus class={cn(\"size-4\", props().add.showText && \"mr-2\")} />\n                ) : (\n                  <Edit class={cn(\"size-4\", props().edit.showText && \"mr-2\")} />\n                )\n              }\n              when={props().isLoading}\n            >\n              <LoaderCircle\n                class={cn(\n                  \"size-4 animate-spin\",\n                  (props().isAddMode\n                    ? props()?.add?.showText\n                    : props()?.edit?.showText) && \"mr-2\"\n                )}\n              />\n            </Show>\n            {props()?.isAddMode\n              ? props()?.add?.showText && props()?.add?.text\n              : props()?.edit.showText && props()?.edit.text}\n          </Button>\n        </TooltipTrigger>\n        <Show\n          when={\n            props().isAddMode\n              ? props().add.showTooltip\n              : props().edit.showTooltip\n          }\n        >\n          <TooltipContent>\n            {props().isAddMode\n              ? props().add.tooltipText\n              : props().edit.tooltipText}\n          </TooltipContent>\n        </Show>\n      </Tooltip>\n    </DialogTrigger>\n  );\n}\n"
    },
    {
      "path": "components/helpers/date-range-with-popover.tsx",
      "type": "registry:component",
      "content": "import {\n  type DateValue,\n  useDatePickerContext,\n} from \"@ark-ui/solid/date-picker\";\nimport { CalendarDate } from \"@internationalized/date\";\nimport {\n  endOfDay,\n  endOfMonth,\n  endOfWeek,\n  endOfYear,\n  startOfDay,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  subDays,\n  subYears,\n} from \"date-fns\";\nimport { CalendarIcon } from \"lucide-solid\";\nimport { createEffect, createMemo, createSignal, Index, on } from \"solid-js\";\nimport { Button } from \"~/components/ui/button\";\nimport {\n  DatePicker,\n  DatePickerContext,\n  DatePickerControl,\n  DatePickerInput,\n  DatePickerNextTrigger,\n  DatePickerPrevTrigger,\n  DatePickerRangeText,\n  DatePickerTable,\n  DatePickerTableBody,\n  DatePickerTableCell,\n  DatePickerTableCellTrigger,\n  DatePickerTableHead,\n  DatePickerTableHeader,\n  DatePickerTableRow,\n  DatePickerView,\n  DatePickerViewControl,\n  DatePickerViewTrigger,\n} from \"~/components/ui/date-picker\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"~/components/ui/popover\";\n\nexport type DateRange = {\n  startDate: Date;\n  endDate: Date;\n};\n\ninterface DayViewProps {\n  monthOffset: number;\n}\n\nfunction DayView(props: DayViewProps) {\n  const datePicker = useDatePickerContext();\n  const offset = createMemo(() =>\n    datePicker().getOffset({ months: props.monthOffset })\n  );\n\n  return (\n    <DatePickerTable>\n      <DatePickerTableHead>\n        <DatePickerTableRow>\n          <Index each={datePicker().weekDays}>\n            {(weekDay) => (\n              <DatePickerTableHeader>{weekDay().short}</DatePickerTableHeader>\n            )}\n          </Index>\n        </DatePickerTableRow>\n      </DatePickerTableHead>\n      <DatePickerTableBody>\n        <Index each={offset().weeks}>\n          {(week) => (\n            <DatePickerTableRow>\n              <Index each={week()}>\n                {(day) => (\n                  <DatePickerTableCell\n                    value={day()}\n                    visibleRange={offset().visibleRange}\n                  >\n                    <DatePickerTableCellTrigger>\n                      {day().day}\n                    </DatePickerTableCellTrigger>\n                  </DatePickerTableCell>\n                )}\n              </Index>\n            </DatePickerTableRow>\n          )}\n        </Index>\n      </DatePickerTableBody>\n    </DatePickerTable>\n  );\n}\n\ninterface PopoverDateRangePickerProps {\n  dateRange: DateRange;\n  onDateRangeChange: (range: DateRange) => void;\n}\n\nexport default function PopoverDateRangePicker(\n  props: PopoverDateRangePickerProps\n) {\n  const [value, setValue] = createSignal<DateValue[] | undefined>();\n  const [isOpen, setIsOpen] = createSignal(false);\n\n  const today = new Date();\n  const toCalendarDate = (date: Date) =>\n    new CalendarDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\n\n  const presets = [\n    {\n      label: \"Vandaag\",\n      value: [\n        toCalendarDate(startOfDay(today)),\n        toCalendarDate(endOfDay(today)),\n      ],\n    },\n    {\n      label: \"Deze week\",\n      value: [\n        toCalendarDate(startOfWeek(today)),\n        toCalendarDate(endOfWeek(today)),\n      ],\n    },\n    {\n      label: \"Laatste 7 dagen\",\n      value: [toCalendarDate(subDays(today, 7)), toCalendarDate(today)],\n    },\n    {\n      label: \"Deze maand\",\n      value: [\n        toCalendarDate(startOfMonth(today)),\n        toCalendarDate(endOfMonth(today)),\n      ],\n    },\n    {\n      label: \"Laatste 30 dagen\",\n      value: [toCalendarDate(subDays(today, 30)), toCalendarDate(today)],\n    },\n    {\n      label: \"Dit jaar\",\n      value: [\n        toCalendarDate(startOfYear(today)),\n        toCalendarDate(endOfYear(today)),\n      ],\n    },\n    {\n      label: \"Laatste 365 dagen\",\n      value: [toCalendarDate(subYears(today, 1)), toCalendarDate(today)],\n    },\n  ];\n\n  createEffect(\n    on(value, (value) => {\n      if (value && value.length === 2) {\n        props.onDateRangeChange({\n          startDate: new Date(value[0].toString()),\n          endDate: new Date(value[1].toString()),\n        });\n      }\n    })\n  );\n\n  return (\n    <div class=\"flex items-center gap-2\">\n      <DatePicker\n        defaultValue={[\n          new CalendarDate(\n            props.dateRange.startDate.getFullYear(),\n            props.dateRange.startDate.getMonth() + 1,\n            props.dateRange.startDate.getDate()\n          ),\n          new CalendarDate(\n            props.dateRange.endDate.getFullYear(),\n            props.dateRange.endDate.getMonth() + 1,\n            props.dateRange.endDate.getDate()\n          ),\n        ]}\n        format={(e) => {\n          try {\n            const parsedDate = new Date(Date.parse(e.toString()));\n\n            const normalizedDate = new Date(\n              parsedDate.getUTCFullYear(),\n              parsedDate.getUTCMonth(),\n              parsedDate.getUTCDate()\n            );\n\n            return new Intl.DateTimeFormat(\"nl-NL\", {\n              dateStyle: \"long\",\n            }).format(normalizedDate);\n          } catch (error) {\n            console.error(error);\n            return \"\";\n          }\n        }}\n        numOfMonths={2}\n        onValueChange={(e) => {\n          setValue(e.value);\n        }}\n        selectionMode=\"range\"\n        value={value()}\n      >\n        <DatePickerControl class=\"flex items-center gap-2\">\n          <DatePickerInput\n            class=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n            index={0}\n          />\n          <span class=\"text-muted-foreground\">tot</span>\n          <DatePickerInput\n            class=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n            index={1}\n          />\n        </DatePickerControl>\n      </DatePicker>\n\n      <Popover onOpenChange={setIsOpen} open={isOpen()} placement=\"bottom-end\">\n        <PopoverTrigger as={Button<\"button\">} size=\"sm\" variant=\"outline\">\n          <CalendarIcon class=\"h-4 w-4\" />\n        </PopoverTrigger>\n        <PopoverContent class=\"w-auto p-4\">\n          <DatePicker\n            closeOnSelect={false}\n            numOfMonths={2}\n            onValueChange={(e) => {\n              setValue(e.value);\n              if (e.value && e.value.length === 2) {\n                setIsOpen(false);\n              }\n            }}\n            open={true}\n            selectionMode=\"range\"\n            value={value()}\n          >\n            <div class=\"grid grid-cols-1 gap-4 md:grid-cols-[1fr,auto]\">\n              <DatePickerView view=\"day\">\n                <DatePickerContext>\n                  {(api) => (\n                    <>\n                      <DatePickerViewControl>\n                        <DatePickerPrevTrigger />\n                        <DatePickerViewTrigger>\n                          <DatePickerRangeText />\n                        </DatePickerViewTrigger>\n                        <DatePickerNextTrigger />\n                      </DatePickerViewControl>\n                      <div class=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n                        <DayView monthOffset={0} />\n                        <DayView monthOffset={1} />\n                      </div>\n                    </>\n                  )}\n                </DatePickerContext>\n              </DatePickerView>\n              <DatePickerView view=\"month\">\n                <DatePickerContext>\n                  {(api) => (\n                    <>\n                      <DatePickerViewControl>\n                        <DatePickerPrevTrigger />\n                        <DatePickerViewTrigger>\n                          <DatePickerRangeText />\n                        </DatePickerViewTrigger>\n                        <DatePickerNextTrigger />\n                      </DatePickerViewControl>\n                      <DatePickerTable>\n                        <DatePickerTableBody>\n                          <Index\n                            each={api().getMonthsGrid({\n                              columns: 4,\n                              format: \"short\",\n                            })}\n                          >\n                            {(months) => (\n                              <DatePickerTableRow>\n                                <Index each={months()}>\n                                  {(month) => (\n                                    <DatePickerTableCell value={month().value}>\n                                      <DatePickerTableCellTrigger>\n                                        {month().label}\n                                      </DatePickerTableCellTrigger>\n                                    </DatePickerTableCell>\n                                  )}\n                                </Index>\n                              </DatePickerTableRow>\n                            )}\n                          </Index>\n                        </DatePickerTableBody>\n                      </DatePickerTable>\n                    </>\n                  )}\n                </DatePickerContext>\n              </DatePickerView>\n              <DatePickerView view=\"year\">\n                <DatePickerContext>\n                  {(api) => (\n                    <>\n                      <DatePickerViewControl>\n                        <DatePickerPrevTrigger />\n                        <DatePickerViewTrigger>\n                          <DatePickerRangeText />\n                        </DatePickerViewTrigger>\n                        <DatePickerNextTrigger />\n                      </DatePickerViewControl>\n                      <DatePickerTable>\n                        <DatePickerTableBody>\n                          <Index\n                            each={api().getYearsGrid({\n                              columns: 4,\n                            })}\n                          >\n                            {(years) => (\n                              <DatePickerTableRow>\n                                <Index each={years()}>\n                                  {(year) => (\n                                    <DatePickerTableCell value={year().value}>\n                                      <DatePickerTableCellTrigger>\n                                        {year().label}\n                                      </DatePickerTableCellTrigger>\n                                    </DatePickerTableCell>\n                                  )}\n                                </Index>\n                              </DatePickerTableRow>\n                            )}\n                          </Index>\n                        </DatePickerTableBody>\n                      </DatePickerTable>\n                    </>\n                  )}\n                </DatePickerContext>\n              </DatePickerView>\n            </div>\n          </DatePicker>\n        </PopoverContent>\n      </Popover>\n    </div>\n  );\n}\n"
    }
  ]
}
