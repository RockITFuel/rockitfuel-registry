{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "app-sidebar",
  "type": "registry:block",
  "title": "App Sidebar",
  "description": "Responsive sidebar navigation with mobile support, keyboard shortcuts, and theme toggle",
  "dependencies": [
    "@solid-primitives/storage",
    "@kobalte/core",
    "lucide-solid"
  ],
  "files": [
    {
      "path": "components/app-sidebar/index.ts",
      "type": "registry:lib",
      "content": "export { default as SideBarSeperator } from \"./side-bar-seperator\";\nexport { default as SidebarButton } from \"./sidebar-button\";\nexport { default as SidebarButtonList } from \"./sidebar-button-list\";\nexport {\n  default as SidebarContainer,\n  SideNavBarBreadcrumb,\n} from \"./sidebar-container\";\nexport { default as SidebarContent } from \"./sidebar-content\";\nexport { default as SidebarFooter } from \"./sidebar-footer\";\nexport { default as SidebarHeader } from \"./sidebar-header\";\nexport { SidebarProvider, useSidebar } from \"./sidebar-provider\";\nexport { SidebarTrigger } from \"./sidebar-trigger\";\nexport { default as SidebarUser } from \"./sidebar-user\";\n"
    },
    {
      "path": "components/app-sidebar/sidebar-provider.tsx",
      "type": "registry:component",
      "content": "import { makePersisted } from \"@solid-primitives/storage\";\nimport {\n  type Accessor,\n  createContext,\n  createSignal,\n  onCleanup,\n  onMount,\n  type ParentProps,\n  useContext,\n} from \"solid-js\";\nimport { createStore } from \"solid-js/store\";\n\nconst [isOpen, setIsOpen] = makePersisted(createSignal(true), {\n  name: \"sidebar-open\",\n});\n\n// Track which sidebar sections are expanded (default: all collapsed)\ntype ExpandedSections = Record<string, boolean>;\nconst [expandedSections, setExpandedSections] = makePersisted(\n  createStore<ExpandedSections>({}),\n  { name: \"sidebar-collapsed-sections\" }\n);\n\nfunction useProviderValue() {\n  const [isMobile, setIsMobile] = createSignal(false);\n\n  const toggle = () => setIsOpen((prev) => !prev);\n  const close = () => setIsOpen(false);\n\n  // Check if a section is expanded (defaults to false/collapsed)\n  const isSectionExpanded = (sectionId: string) =>\n    expandedSections[sectionId] ?? false;\n\n  // Toggle expansion state for a specific section\n  const toggleSection = (sectionId: string) => {\n    setExpandedSections(sectionId, (prev) => !prev);\n  };\n\n  onMount(() => {\n    // Mobile detection using matchMedia\n    const mediaQuery = window.matchMedia(\"(max-width: 767px)\");\n    setIsMobile(mediaQuery.matches);\n\n    const handleMediaChange = (e: MediaQueryListEvent) =>\n      setIsMobile(e.matches);\n    mediaQuery.addEventListener(\"change\", handleMediaChange);\n\n    // Keyboard shortcut: Cmd/Ctrl + B\n    const handleKeydown = (e: KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === \"b\") {\n        e.preventDefault();\n        toggle();\n      }\n    };\n    document.addEventListener(\"keydown\", handleKeydown);\n\n    onCleanup(() => {\n      mediaQuery.removeEventListener(\"change\", handleMediaChange);\n      document.removeEventListener(\"keydown\", handleKeydown);\n    });\n  });\n\n  return {\n    isOpen,\n    setIsOpen,\n    toggle,\n    close,\n    isMobile: isMobile as Accessor<boolean>,\n    expandedSections,\n    isSectionExpanded,\n    toggleSection,\n  };\n}\n\nexport type ContextType = ReturnType<typeof useProviderValue>;\n\nconst SidebarContext = createContext<ContextType | undefined>(undefined);\n\nexport const SidebarProvider = (props: ParentProps) => {\n  const value = useProviderValue();\n  return (\n    <SidebarContext.Provider value={value}>\n      {props.children}\n    </SidebarContext.Provider>\n  );\n};\n\nexport const useSidebar = () => {\n  const context = useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider\");\n  }\n  return context;\n};\n"
    },
    {
      "path": "components/app-sidebar/sidebar-container.tsx",
      "type": "registry:component",
      "content": "import { createSignal, type JSX, onMount, Show } from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\nimport { useSidebar } from \"./sidebar-provider\";\nimport { SidebarTrigger } from \"./sidebar-trigger\";\n\ntype SidebarContainerProps = {\n  children: JSX.Element;\n  appContent: JSX.Element;\n  enableBreadcrumbs?: boolean;\n};\n\nconst [breadcrumbs, setBreadcrumbs] = createSignal<JSX.Element>(<></>);\n\nexport default function SidebarContainer(props: SidebarContainerProps) {\n  const { isOpen, isMobile, close } = useSidebar();\n\n  const handleBackdropClick = () => {\n    if (isMobile()) {\n      close();\n    }\n  };\n\n  return (\n    <div class=\"relative flex h-screen w-full flex-row\">\n      {/* Mobile Backdrop Overlay */}\n      <Show when={isMobile() && isOpen()}>\n        <div\n          aria-hidden=\"true\"\n          class=\"fixed inset-0 z-40 bg-black/50 transition-opacity duration-300\"\n          onClick={handleBackdropClick}\n        />\n      </Show>\n\n      {/* Sidebar */}\n      <div\n        class={cn(\n          \"flex h-screen flex-col bg-background transition-all duration-300\",\n          // Mobile: fixed overlay from left\n          \"fixed inset-y-0 left-0 z-50 md:relative md:z-auto\",\n          // Width and visibility\n          isOpen()\n            ? \"w-72\"\n            : \"-translate-x-full md:w-0 md:translate-x-0 md:overflow-hidden\"\n        )}\n      >\n        {props.children}\n      </div>\n\n      {/* Main Content Area */}\n      <div class=\"h-screen flex-1 overflow-y-auto p-2\">\n        <div class=\"flex min-h-full w-full flex-col rounded-2xl bg-card shadow-md dark:border dark:border-border dark:bg-card dark:shadow-none\">\n          <div class=\"flex items-center gap-4 border-border border-b px-3 py-3\">\n            <SidebarTrigger />\n            <div class=\"w-full\">\n              <span\n                class=\"font-medium text-base text-foreground\"\n                data-testid=\"page-title\"\n              >\n                {breadcrumbs()}\n              </span>\n            </div>\n          </div>\n          {props.appContent}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function SideNavBarBreadcrumb(props: { children: JSX.Element }) {\n  onMount(() => {\n    setBreadcrumbs(props.children);\n  });\n  return null;\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-content.tsx",
      "type": "registry:component",
      "content": "import type { JSX } from \"solid-js\";\nimport { cn } from \"~/lib/utils\";\n\ntype SidebarContentProps = {\n  children: JSX.Element;\n  class?: string;\n};\n\nexport default function SidebarContent(props: SidebarContentProps) {\n  return (\n    <div\n      class={cn(\n        \"flex min-h-0 w-full flex-1 flex-col overflow-y-auto py-6\",\n        props.class\n      )}\n    >\n      {props.children}\n    </div>\n  );\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-header.tsx",
      "type": "registry:component",
      "content": "import type { JSX } from \"solid-js\";\n\ntype SidebarHeaderProps = {\n  children: JSX.Element;\n};\n\nexport default function SidebarHeader(props: SidebarHeaderProps) {\n  return <div class=\"w-full flex-none\">{props.children}</div>;\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-footer.tsx",
      "type": "registry:component",
      "content": "import type { JSX } from \"solid-js\";\n\ntype SidebarFooterProps = {\n  children: JSX.Element;\n};\n\nexport default function SidebarFooter(props: SidebarFooterProps) {\n  return <div class=\"w-full flex-none\">{props.children}</div>;\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-trigger.tsx",
      "type": "registry:component",
      "content": "import { PanelLeft } from \"lucide-solid\";\nimport { Button } from \"~/components/ui/button\";\nimport { useSidebar } from \"./sidebar-provider\";\n\nexport function SidebarTrigger() {\n  const { toggle } = useSidebar();\n  return (\n    <Button onClick={toggle} size=\"icon\" variant=\"ghost\">\n      <PanelLeft class=\"h-4 w-4\" />\n    </Button>\n  );\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-button.tsx",
      "type": "registry:component",
      "content": "import { A, useLocation } from \"@solidjs/router\";\nimport { type Component, createMemo, Show } from \"solid-js\";\nimport { Button } from \"~/components/ui/button\";\n\nexport type SidebarButtonProps = {\n  title: string;\n  href: string;\n  icon: Component;\n};\n\nexport default function SidebarButton(props: SidebarButtonProps) {\n  const location = useLocation();\n\n  const isActiveRoute = createMemo(() =>\n    location.pathname.startsWith(props.href)\n  );\n\n  return (\n    <Button\n      as={A}\n      class=\"group relative h-9 w-full justify-start gap-3 overflow-hidden rounded-lg border border-transparent px-3 py-2 transition-all duration-300 ease-out\"\n      classList={{\n        \"bg-gradient-to-r from-primary via-primary/90 to-primary/80 text-primary-foreground shadow-lg shadow-primary/25 border-primary/20 dark:shadow-primary/10\":\n          isActiveRoute(),\n        \"hover:bg-gradient-to-r hover:from-accent/80 hover:to-accent/60 hover:shadow-md hover:shadow-accent/20 hover:border-accent/20 dark:hover:from-accent/60 dark:hover:to-accent/40\":\n          !isActiveRoute(),\n      }}\n      href={props.href}\n      variant=\"ghost\"\n    >\n      {/* Active indicator */}\n      <Show when={isActiveRoute()}>\n        <div class=\"absolute top-1/2 left-0 h-6 w-1 -translate-y-1/2 rounded-r-full bg-primary-foreground shadow-sm dark:bg-primary-foreground\" />\n      </Show>\n\n      <div class=\"relative z-10 flex w-full items-center gap-2\">\n        <div\n          class=\"flex h-5 w-5 items-center justify-center rounded-md transition-all duration-300\"\n          classList={{\n            \"bg-primary-foreground/20 dark:bg-primary-foreground/30\":\n              isActiveRoute(),\n            \"bg-muted/50 group-hover:bg-primary/10 dark:bg-muted/30 dark:group-hover:bg-primary/20\":\n              !isActiveRoute(),\n          }}\n        >\n          <props.icon\n            class=\"h-3.5 w-3.5 transition-all duration-300 group-hover:scale-110\"\n            classList={{\n              \"text-primary-foreground dark:text-primary-foreground\":\n                isActiveRoute(),\n              \"text-muted-foreground group-hover:text-primary dark:text-muted-foreground dark:group-hover:text-primary\":\n                !isActiveRoute(),\n            }}\n          />\n        </div>\n        <span\n          class=\"truncate font-medium text-sm tracking-wide transition-all duration-300 group-hover:translate-x-0.5\"\n          classList={{\n            \"text-primary-foreground dark:text-primary-foreground\":\n              isActiveRoute(),\n            \"text-foreground group-hover:text-foreground dark:text-foreground dark:group-hover:text-foreground\":\n              !isActiveRoute(),\n          }}\n        >\n          {props.title}\n        </span>\n      </div>\n\n      {/* Subtle glow effect for active state */}\n      <Show when={isActiveRoute()}>\n        <div class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-white/10 to-transparent dark:from-white/5\" />\n      </Show>\n    </Button>\n  );\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-button-list.tsx",
      "type": "registry:component",
      "content": "import { A } from \"@solidjs/router\";\nimport { ChevronDown, ChevronRight } from \"lucide-solid\";\nimport { For, Show } from \"solid-js\";\nimport type { Route } from \"~/types/route\";\nimport SidebarButton from \"./sidebar-button\";\nimport { useSidebar } from \"./sidebar-provider\";\n\nexport type SidebarButtonListProps = {\n  id: string;\n  title?: string;\n  routes: Route[];\n};\n\nexport default function SidebarButtonList(props: SidebarButtonListProps) {\n  const { isSectionExpanded, toggleSection } = useSidebar();\n\n  return (\n    <nav class=\"space-y-3\">\n      <div class=\"group flex w-full items-center justify-between px-3 py-1.5 transition-colors hover:bg-accent/50\">\n        <A\n          class=\"cursor-pointer font-medium text-muted-foreground text-xs uppercase tracking-wider transition-colors group-hover:text-foreground dark:text-muted-foreground dark:group-hover:text-foreground\"\n          href={props.routes[0]?.href ?? \"#\"}\n        >\n          {props.title || \"Menu\"}\n        </A>\n        <button\n          class=\"cursor-pointer rounded p-0.5 transition-colors hover:bg-accent\"\n          onClick={() => toggleSection(props.id)}\n          type=\"button\"\n        >\n          <Show\n            fallback={\n              <ChevronRight class=\"h-4 w-4 text-muted-foreground transition-colors group-hover:text-foreground\" />\n            }\n            when={isSectionExpanded(props.id)}\n          >\n            <ChevronDown class=\"h-4 w-4 text-muted-foreground transition-colors group-hover:text-foreground\" />\n          </Show>\n        </button>\n      </div>\n      <Show when={isSectionExpanded(props.id)}>\n        <div class=\"space-y-1 px-2\">\n          <For each={props.routes}>\n            {(route) => (\n              <SidebarButton\n                href={route.href}\n                icon={route.icon}\n                title={route.title}\n              />\n            )}\n          </For>\n        </div>\n      </Show>\n    </nav>\n  );\n}\n"
    },
    {
      "path": "components/app-sidebar/sidebar-user.tsx",
      "type": "registry:component",
      "content": "import { useColorMode } from \"@kobalte/core\";\nimport { SunMoonIcon } from \"lucide-solid\";\nimport { Button } from \"~/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"~/components/ui/dropdown-menu\";\n\n/**\n * Simplified SidebarUser component - theme toggle only.\n * Auth-related features removed for registry demo.\n */\nexport default function SidebarUser() {\n  const { setColorMode, colorMode } = useColorMode();\n\n  return (\n    <DropdownMenu placement=\"right-end\">\n      <DropdownMenuTrigger\n        as={Button}\n        class=\"group h-12 w-full rounded-xl border border-transparent px-4 py-3 transition-all duration-300 hover:scale-[1.02] hover:border-accent/20 hover:shadow-md\"\n        variant=\"ghost\"\n      >\n        <div class=\"flex w-full items-center gap-3\">\n          <SunMoonIcon class=\"h-5 w-5 text-muted-foreground transition-colors group-hover:text-primary\" />\n          <span class=\"font-medium text-sm\">Theme</span>\n        </div>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent class=\"w-fit border-border bg-card dark:bg-popover\">\n        <DropdownMenuGroup>\n          <DropdownMenuSub overlap>\n            <DropdownMenuSubTrigger>\n              <SunMoonIcon class=\"mr-2 h-4 w-4\" />\n              <span>Theme</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuPortal>\n              <DropdownMenuSubContent>\n                <DropdownMenuRadioGroup\n                  onChange={(value) =>\n                    setColorMode(value as \"system\" | \"dark\" | \"light\")\n                  }\n                  value={colorMode()}\n                >\n                  <DropdownMenuRadioItem value=\"system\">\n                    System\n                  </DropdownMenuRadioItem>\n                  <DropdownMenuRadioItem value=\"dark\">\n                    Dark Mode\n                  </DropdownMenuRadioItem>\n                  <DropdownMenuRadioItem value=\"light\">\n                    Light Mode\n                  </DropdownMenuRadioItem>\n                </DropdownMenuRadioGroup>\n              </DropdownMenuSubContent>\n            </DropdownMenuPortal>\n          </DropdownMenuSub>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"
    },
    {
      "path": "components/app-sidebar/side-bar-seperator.tsx",
      "type": "registry:component",
      "content": "import { Separator } from \"../ui/separator\";\n\nexport default function SideBarSeperator() {\n  return (\n    <div class=\"px-4\">\n      <Separator />\n    </div>\n  );\n}\n"
    },
    {
      "path": "types/route.ts",
      "type": "registry:lib",
      "content": "import type { Component } from \"solid-js\";\n\nexport type Route = {\n  title: string;\n  href: string;\n  icon: Component;\n  roles?: string[];\n};\n"
    }
  ]
}
