{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "carousel",
  "type": "registry:ui",
  "title": "Carousel",
  "description": "Image/content carousel",
  "dependencies": [
    "embla-carousel-solid"
  ],
  "files": [
    {
      "path": "components/ui/carousel.tsx",
      "type": "registry:ui",
      "content": "import type { CreateEmblaCarouselType } from \"embla-carousel-solid\";\nimport createEmblaCarousel from \"embla-carousel-solid\";\nimport type { Accessor, Component, ComponentProps, VoidProps } from \"solid-js\";\nimport {\n\tcreateContext,\n\tcreateEffect,\n\tcreateMemo,\n\tcreateSignal,\n\tmergeProps,\n\tsplitProps,\n\tuseContext,\n} from \"solid-js\";\nimport type { ButtonProps } from \"~/components/ui/button\";\nimport { Button } from \"~/components/ui/button\";\nimport { cn } from \"~/lib/utils\";\n\nexport type CarouselApi = CreateEmblaCarouselType[1];\n\ntype UseCarouselParameters = Parameters<typeof createEmblaCarousel>;\ntype CarouselOptions = NonNullable<UseCarouselParameters[0]>;\ntype CarouselPlugin = NonNullable<UseCarouselParameters[1]>;\n\ntype CarouselProps = {\n\topts?: ReturnType<CarouselOptions>;\n\tplugins?: ReturnType<CarouselPlugin>;\n\torientation?: \"horizontal\" | \"vertical\";\n\tsetApi?: (api: CarouselApi) => void;\n};\n\ntype CarouselContextProps = {\n\tcarouselRef: ReturnType<typeof createEmblaCarousel>[0];\n\tapi: ReturnType<typeof createEmblaCarousel>[1];\n\tscrollPrev: () => void;\n\tscrollNext: () => void;\n\tcanScrollPrev: Accessor<boolean>;\n\tcanScrollNext: Accessor<boolean>;\n} & CarouselProps;\n\nconst CarouselContext = createContext<Accessor<CarouselContextProps> | null>(\n\tnull,\n);\n\nconst useCarousel = () => {\n\tconst context = useContext(CarouselContext);\n\n\tif (!context) {\n\t\tthrow new Error(\"useCarousel must be used within a <Carousel />\");\n\t}\n\n\treturn context();\n};\n\nconst Carousel: Component<CarouselProps & ComponentProps<\"div\">> = (\n\trawProps,\n) => {\n\tconst props = mergeProps<(CarouselProps & ComponentProps<\"div\">)[]>(\n\t\t{ orientation: \"horizontal\" },\n\t\trawProps,\n\t);\n\n\tconst [local, others] = splitProps(props, [\n\t\t\"orientation\",\n\t\t\"opts\",\n\t\t\"setApi\",\n\t\t\"plugins\",\n\t\t\"class\",\n\t\t\"children\",\n\t]);\n\n\tconst [carouselRef, api] = createEmblaCarousel(\n\t\t() => ({\n\t\t\t...local.opts,\n\t\t\taxis: local.orientation === \"horizontal\" ? \"x\" : \"y\",\n\t\t}),\n\t\t() => (local.plugins === undefined ? [] : local.plugins),\n\t);\n\tconst [canScrollPrev, setCanScrollPrev] = createSignal(false);\n\tconst [canScrollNext, setCanScrollNext] = createSignal(false);\n\n\tconst onSelect = (api: NonNullable<ReturnType<CarouselApi>>) => {\n\t\tsetCanScrollPrev(api.canScrollPrev());\n\t\tsetCanScrollNext(api.canScrollNext());\n\t};\n\n\tconst scrollPrev = () => {\n\t\tapi()?.scrollPrev();\n\t};\n\n\tconst scrollNext = () => {\n\t\tapi()?.scrollNext();\n\t};\n\n\tconst handleKeyDown = (event: KeyboardEvent) => {\n\t\tif (event.key === \"ArrowLeft\") {\n\t\t\tevent.preventDefault();\n\t\t\tscrollPrev();\n\t\t} else if (event.key === \"ArrowRight\") {\n\t\t\tevent.preventDefault();\n\t\t\tscrollNext();\n\t\t}\n\t};\n\n\tcreateEffect(() => {\n\t\tif (!api() || !local.setApi) {\n\t\t\treturn;\n\t\t}\n\t\tlocal.setApi(api);\n\t});\n\n\tcreateEffect(() => {\n\t\tif (!api()) {\n\t\t\treturn;\n\t\t}\n\n\t\tonSelect(api()!);\n\t\tapi()!.on(\"reInit\", onSelect);\n\t\tapi()!.on(\"select\", onSelect);\n\n\t\treturn () => {\n\t\t\tapi()?.off(\"select\", onSelect);\n\t\t};\n\t});\n\n\tconst value = createMemo(\n\t\t() =>\n\t\t\t({\n\t\t\t\tcarouselRef,\n\t\t\t\tapi,\n\t\t\t\topts: local.opts,\n\t\t\t\torientation:\n\t\t\t\t\tlocal.orientation ||\n\t\t\t\t\t(local.opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n\t\t\t\tscrollPrev,\n\t\t\t\tscrollNext,\n\t\t\t\tcanScrollPrev,\n\t\t\t\tcanScrollNext,\n\t\t\t}) satisfies CarouselContextProps,\n\t);\n\n\treturn (\n\t\t<CarouselContext.Provider value={value}>\n\t\t\t<div\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tclass={cn(\"relative\", local.class)}\n\t\t\t\trole=\"region\"\n\t\t\t\taria-roledescription=\"carousel\"\n\t\t\t\t{...others}\n\t\t\t>\n\t\t\t\t{local.children}\n\t\t\t</div>\n\t\t</CarouselContext.Provider>\n\t);\n};\n\nconst CarouselContent: Component<ComponentProps<\"div\">> = (props) => {\n\tconst [local, others] = splitProps(props, [\"class\"]);\n\tconst { carouselRef, orientation } = useCarousel();\n\n\treturn (\n\t\t<div ref={carouselRef} class=\"overflow-hidden\">\n\t\t\t<div\n\t\t\t\tclass={cn(\n\t\t\t\t\t\"flex\",\n\t\t\t\t\torientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n\t\t\t\t\tlocal.class,\n\t\t\t\t)}\n\t\t\t\t{...others}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst CarouselItem: Component<ComponentProps<\"div\">> = (props) => {\n\tconst [local, others] = splitProps(props, [\"class\"]);\n\tconst { orientation } = useCarousel();\n\n\treturn (\n\t\t<div\n\t\t\trole=\"group\"\n\t\t\taria-roledescription=\"slide\"\n\t\t\tclass={cn(\n\t\t\t\t\"min-w-0 shrink-0 grow-0 basis-full\",\n\t\t\t\torientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n\t\t\t\tlocal.class,\n\t\t\t)}\n\t\t\t{...others}\n\t\t/>\n\t);\n};\n\ntype CarouselButtonProps = VoidProps<ButtonProps>;\n\nconst CarouselPrevious: Component<CarouselButtonProps> = (rawProps) => {\n\tconst props = mergeProps<CarouselButtonProps[]>(\n\t\t{ variant: \"outline\", size: \"icon\" },\n\t\trawProps,\n\t);\n\tconst [local, others] = splitProps(props, [\"class\", \"variant\", \"size\"]);\n\tconst { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n\treturn (\n\t\t<Button\n\t\t\tvariant={local.variant}\n\t\t\tsize={local.size}\n\t\t\tclass={cn(\n\t\t\t\t\"absolute size-8 touch-manipulation rounded-full\",\n\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t? \"-left-12 top-1/2 -translate-y-1/2\"\n\t\t\t\t\t: \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n\t\t\t\tlocal.class,\n\t\t\t)}\n\t\t\tdisabled={!canScrollPrev()}\n\t\t\tonClick={scrollPrev}\n\t\t\t{...others}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\tclass=\"size-4\"\n\t\t\t>\n\t\t\t\t<path d=\"M5 12l14 0\" />\n\t\t\t\t<path d=\"M5 12l6 6\" />\n\t\t\t\t<path d=\"M5 12l6 -6\" />\n\t\t\t</svg>\n\t\t\t<span class=\"sr-only\">Previous slide</span>\n\t\t</Button>\n\t);\n};\n\nconst CarouselNext: Component<CarouselButtonProps> = (rawProps) => {\n\tconst props = mergeProps<CarouselButtonProps[]>(\n\t\t{ variant: \"outline\", size: \"icon\" },\n\t\trawProps,\n\t);\n\tconst [local, others] = splitProps(props, [\"class\", \"variant\", \"size\"]);\n\tconst { orientation, scrollNext, canScrollNext } = useCarousel();\n\n\treturn (\n\t\t<Button\n\t\t\tvariant={local.variant}\n\t\t\tsize={local.size}\n\t\t\tclass={cn(\n\t\t\t\t\"absolute size-8 touch-manipulation rounded-full\",\n\t\t\t\torientation === \"horizontal\"\n\t\t\t\t\t? \"-right-12 top-1/2 -translate-y-1/2\"\n\t\t\t\t\t: \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n\t\t\t\tlocal.class,\n\t\t\t)}\n\t\t\tdisabled={!canScrollNext()}\n\t\t\tonClick={scrollNext}\n\t\t\t{...others}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\tclass=\"size-4\"\n\t\t\t>\n\t\t\t\t<path d=\"M5 12l14 0\" />\n\t\t\t\t<path d=\"M13 18l6 -6\" />\n\t\t\t\t<path d=\"M13 6l6 6\" />\n\t\t\t</svg>\n\t\t\t<span class=\"sr-only\">Next slide</span>\n\t\t</Button>\n\t);\n};\n\nexport {\n\tCarousel,\n\tCarouselContent,\n\tCarouselItem,\n\tCarouselPrevious,\n\tCarouselNext,\n};\n"
    }
  ]
}